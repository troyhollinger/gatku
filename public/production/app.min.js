(function(){var a=function(){function a(a,b){var c=this;c.settings=$.extend($.fn.skippr.defaults,b),c.$element=$(a),c.$parent=c.$element.parent(),c.$photos=c.$element.children(),c.count=c.$photos.length,c.countString=String(c.count),c.touchOnThis=!1,c.previousTouchX=null,c.swipeDirection=null,c.init()}return a.prototype.init=function(){var a=this;a.setup(),a.navClick(),a.arrowClick(),a.resize(),a.keyPress(),1==a.settings.autoPlay&&a.autoPlay(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&a.touch()},a.prototype.touch=function(){var a=this;a.$element.on("touchstart",function(b){var c=b.originalEvent,d=c.pageX;a.touchOnThis=!0,a.previousTouchX=d}),a.$element.on("touchmove",function(b){var c=b.originalEvent,d=c.pageX;a.touchOnThis&&(a.previousTouchX<d?a.swipeDirection="backwards":a.previousTouchX>d&&(a.swipeDirection="forwards"))}),a.$element.on("touchend",function(){a.touchOnThis=!1,"backwards"==a.swipeDirection?a.$element.find(".skippr-previous").trigger("click"):"forwards"==a.swipeDirection&&a.$element.find(".skippr-next").trigger("click"),a.swipeDirection=null})},a.prototype.setup=function(){var a=this;if("img"==a.settings.childrenElementType){var b=[];for(i=0;i<a.count;i++){var c=a.$photos.eq(i).attr("src"),d='<div style="background-image: url('+c+')"></div>';b.push(d)}b.join(""),a.$element.append(b),a.$element.find("img").remove(),a.$photos=a.$element.children()}if("array"==a.settings.childrenElementType){var e=a.settings.imgArray,b=[];for(i=0;i<e;i++){var c=e[i],d='<div style="background-image: url('+c+')"></div>';b.push(d)}b.join(""),a.$element.children().remove(),a.$element.append(b),a.$photos=a.$element.children()}"fade"==a.settings.transition&&a.$photos.not(":first-child").hide(),"slide"==a.settings.transition&&a.setupSlider(),a.$photos.eq(0).addClass("visible"),a.$element.addClass("skippr"),a.navBuild(),1==a.settings.arrows&&a.arrowBuild()},a.prototype.resize=function(){var a=this;"slide"==a.settings.transition&&$(window).resize(function(){var b=a.$element.find(".skippr-nav-element-active").attr("data-slider");a.setupSlider(),a.$photos.each(function(){var c,d=parseFloat($(this).css("left")),e=a.$parent.width();b>1&&(c=d-e*(b-1)),$(this).css("left",c+"px")}),a.settings.autoPlay===!0&&(clearInterval(timer),a.autoPlay())})},a.prototype.arrowBuild=function(){var a,b,c=this,d=c.count,e="",f="";c.settings.hidePrevious===!0&&(e='style="display:none;"'),"dark"===c.settings.theme&&(f="skippr-dark"),a='<nav class="skippr-nav-item skippr-arrow skippr-previous '+f+'" data-slider="'+d+'" '+e+"></nav>",b='<nav class="skippr-nav-item skippr-arrow skippr-next  '+f+'" data-slider="2"></nav>',c.$element.append(a+b)},a.prototype.navBuild=function(){var a,b=this,c=[];if("block"==b.settings.navType)var d="skippr-nav-element-block";else if("bubble"==b.settings.navType)var d="skippr-nav-element-bubble";for(var e=0;e<b.count;e++){var f;f=0==e?"<div class='skippr-nav-element skippr-nav-item "+d+" skippr-nav-element-active' data-slider='"+(e+1)+"'></div>":"<div class='skippr-nav-element skippr-nav-item "+d+"' data-slider='"+(e+1)+"'></div>",c.push(f)}c=c.join(""),a='<nav class="skippr-nav-container">'+c+"</nav>",b.$element.append(a)},a.prototype.arrowClick=function(){var a=this,b=a.$element.find(".skippr-arrow");b.click(function(){$(this).hasClass("disabled")||a.change($(this)),a.settings.autoPlay&&a.resetTimer()})},a.prototype.navClick=function(){var a=this,b=a.$element.find(".skippr-nav-element");b.click(function(){$(this).hasClass("disabled")||a.change($(this)),a.settings.autoPlay&&a.resetTimer()})},a.prototype.change=function(a){{var b=this,c=a.attr("data-slider"),d=b.$element.find(".skippr-nav-item"),e=b.$element.find(".skippr-nav-element-active").attr("data-slider");b.$element.find(".skippr-next").attr("data-slider"),b.$element.find(".skippr-previous").attr("data-slider")}if(c!=e){"fade"==b.settings.transition&&(b.$photos.eq(c-1).css("z-index","10").siblings("div").css("z-index","9"),b.$photos.eq(c-1).fadeIn(b.settings.speed,function(){b.$element.find(".visible").fadeOut("fast",function(){$(this).removeClass("visible"),b.$photos.eq(c-1).addClass("visible")})})),"slide"==b.settings.transition&&b.$photos.each(function(){var a,f=parseFloat($(this).css("left")),g=b.$parent.width();c>e&&(a=f-g*(c-e)),e>c&&(a=f+g*(e-c)),d.addClass("disabled"),$(this).velocity({left:a+"px"},b.settings.speed,b.settings.easing,function(){d.removeClass("disabled")}),b.logs("slides sliding")}),b.$element.find(".skippr-nav-element").eq(c-1).addClass("skippr-nav-element-active").siblings().removeClass("skippr-nav-element-active");var f=Number(c)+1,g=Number(c)-1;c==b.count?b.$element.find(".skippr-next").attr("data-slider","1"):b.$element.find(".skippr-next").attr("data-slider",f),1==c?b.$element.find(".skippr-previous").attr("data-slider",b.countString):b.$element.find(".skippr-previous").attr("data-slider",g),b.settings.arrows&&b.settings.hidePrevious&&b.hidePrevious()}},a.prototype.autoPlay=function(){var a=this;timer=setInterval(function(){var b=a.$element.find(".skippr-nav-element-active"),c=b.attr("data-slider");if(c==a.count)var d=a.$element.find(".skippr-nav-element").eq(0);else var d=b.next();a.change(d)},a.settings.autoPlayDuration)},a.prototype.resetTimer=function(){var a=this;clearInterval(timer),a.autoPlay()},a.prototype.autoPlayPause=function(){var a=this;a.$parent.hover(function(){clearInterval(timer),a.logs("clearing timer on hover")},function(){a.autoPlay(),a.logs("resetting timer on un-hover")}),$(window).on("blur focus",function(b){var c=$(this).data("prevType");if(c!=b.type)switch(b.type){case"blur":clearInterval(timer),a.logs("clearing timer on window blur");break;case"focus":a.autoPlay(),a.logs("resetting timer on window focus")}$(this).data("prevType",b.type)})},a.prototype.setupSlider=function(){var a,b=this,c=b.$parent.width();for(b.$photos.css("position","absolute"),i=0;i<b.count;i++)a=c*i,b.$photos.eq(i).css("left",a)},a.prototype.keyPress=function(){var a=this;1==a.settings.keyboardOnAlways&&$(document).on("keydown",function(b){39==b.which&&a.$element.find(".skippr-next").trigger("click"),37==b.which&&a.$element.find(".skippr-previous").trigger("click")}),0==a.settings.keyboardOnAlways&&a.$parent.hover(function(){$(document).on("keydown",function(b){39==b.which&&a.$element.find(".skippr-next").trigger("click"),37==b.which&&a.$element.find(".skippr-previous").trigger("click")})},function(){$(document).off("keydown")})},a.prototype.hidePrevious=function(){var a=this;a.$element.find(".skippr-nav-element").eq(0).hasClass("skippr-nav-element-active")?a.$element.find(".skippr-previous").fadeOut():a.$element.find(".skippr-previous").fadeIn()},a.prototype.logs=function(a){var b=this;b.settings.logs===!0&&console.log(a)},a}();$.fn.skippr=function(b){var c;return(c=this.data("skippr"))?b===!0?c:("string"===$.type(b)&&c[b](),this):this.each(function(){return $(this).data("skippr",new a(this,b))})},$.fn.skippr.defaults={transition:"slide",speed:1e3,easing:"easeOutQuart",navType:"block",childrenElementType:"div",arrows:!0,autoPlay:!1,autoPlayDuration:5e3,keyboardOnAlways:!0,hidePrevious:!1,imgArray:null,logs:!1,theme:"light"}}).call(this),!function(a){"function"==typeof define&&define.amd?window.Velocity?define(a):define(["jquery"],a):a("object"==typeof exports?window.Velocity?void 0:require("jquery"):window.jQuery)}(function(a){return function(b,c,d,e){function f(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function g(a){var b=l.data(a,m);return null===b?e:b}function h(a){return function(b){return Math.round(b*a)*(1/a)}}function i(a,b){var c=a;return s.isString(a)?t.Easings[a]||(c=!1):c=s.isArray(a)&&1===a.length?h.apply(null,a):s.isArray(a)&&2===a.length?v.apply(null,a.concat([b])):s.isArray(a)&&4===a.length?u.apply(null,a):!1,c===!1&&(c=t.Easings[t.defaults.easing]?t.defaults.easing:o),c}function j(a){if(a)for(var b=(new Date).getTime(),c=0,d=t.State.calls.length;d>c;c++)if(t.State.calls[c]){var f=t.State.calls[c],h=f[0],i=f[2],l=f[3];l||(l=t.State.calls[c][3]=b-16);for(var m=Math.min((b-l)/i.duration,1),n=0,o=h.length;o>n;n++){var p=h[n],q=p.element;if(g(q)){var u=!1;i.display&&"none"!==i.display&&w.setPropertyValue(q,"display",i.display),i.visibility&&"hidden"!==i.visibility&&w.setPropertyValue(q,"visibility",i.visibility);for(var v in p)if("element"!==v){var x,y=p[v],z=s.isString(y.easing)?t.Easings[y.easing]:y.easing;if(x=1===m?y.endValue:y.startValue+(y.endValue-y.startValue)*z(m),y.currentValue=x,w.Hooks.registered[v]){var A=w.Hooks.getRoot(v),B=g(q).rootPropertyValueCache[A];B&&(y.rootPropertyValue=B)}var C=w.setPropertyValue(q,v,y.currentValue+(0===parseFloat(x)?"":y.unitType),y.rootPropertyValue,y.scrollData);w.Hooks.registered[v]&&(g(q).rootPropertyValueCache[A]=w.Normalizations.registered[A]?w.Normalizations.registered[A]("extract",null,C[1]):C[1]),"transform"===C[0]&&(u=!0)}i.mobileHA&&g(q).transformCache.translate3d===e&&(g(q).transformCache.translate3d="(0px, 0px, 0px)",u=!0),u&&w.flushTransformCache(q)}}i.display&&"none"!==i.display&&(t.State.calls[c][2].display=!1),i.visibility&&"hidden"!==i.visibility&&(t.State.calls[c][2].visibility=!1),i.progress&&i.progress.call(f[1],f[1],m,Math.max(0,l+i.duration-b),l),1===m&&k(c)}t.State.isTicking&&(t.mock?j(!0):r(j))}function k(a,b){if(!t.State.calls[a])return!1;for(var c=t.State.calls[a][0],d=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var m=c[j].element;if(b||f.loop||("none"===f.display&&w.setPropertyValue(m,"display",f.display),"hidden"===f.visibility&&w.setPropertyValue(m,"visibility",f.visibility)),(l.queue(m)[1]===e||!/\.velocityQueueEntryFlag/i.test(l.queue(m)[1]))&&g(m)){g(m).isAnimating=!1,g(m).rootPropertyValueCache={};var n=!1;l.each(g(m).transformCache,function(a,b){var c=/^scale/.test(a)?1:0;new RegExp("^\\("+c+"[^.]").test(b)&&(n=!0,delete g(m).transformCache[a])}),f.mobileHA&&(n=!0,delete g(m).transformCache.translate3d),n&&w.flushTransformCache(m),w.Values.removeClass(m,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(d,d)}catch(o){setTimeout(function(){throw o},1)}h&&f.loop!==!0&&h(d),f.loop!==!0||b||t.animate(m,"reverse",{loop:!0,delay:f.delay}),f.queue!==!1&&l.dequeue(m,f.queue)}t.State.calls[a]=!1;for(var p=0,q=t.State.calls.length;q>p;p++)if(t.State.calls[p]!==!1){i=!0;break}i===!1&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}var l,m="velocity",n=400,o="swing",p=function(){if(d.documentMode)return d.documentMode;for(var a=7;a>4;a--){var b=d.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return e}(),q=function(){var a=0;return c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),r=c.requestAnimationFrame||q,s={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==e&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||c.Zepto&&c.Zepto.zepto.isZ(a))},isSVG:function(a){return c.SVGElement&&a instanceof SVGElement},isEmptyObject:function(a){var b;for(b in a)return!1;return!0}};if(a&&a.fn!==e?l=a:c.Velocity&&c.Velocity.Utilities&&(l=c.Velocity.Utilities),!l)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(b.Velocity!==e&&b.Velocity.Utilities==e)throw new Error("Velocity: Namespace is occupied.");if(7>=p){if(a)return void(a.fn.velocity=a.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===p&&!a)throw new Error("Velocity: For IE8, Velocity requires jQuery proper to be loaded; Velocity's jQuery shim does not work with IE8.");var t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:c.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:d.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:l,Sequences:{},Easings:{},Promise:c.Promise,defaults:{queue:"",duration:n,easing:o,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){l.data(a,m,{isSVG:s.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},animate:function(){},hook:function(a,b,c){var d=e;return s.isWrapped(a)&&(a=[].slice.call(a)),l.each(s.isNode(a)?[a]:a,function(a,f){if(g(f)===e&&t.init(f),c===e)d===e&&(d=t.CSS.getPropertyValue(f,b));else{var h=t.CSS.setPropertyValue(f,b,c);"transform"===h[0]&&t.CSS.flushTransformCache(f),d=h}}),d},mock:!1,version:{major:0,minor:11,patch:2},debug:!1};c.pageYOffset!==e?(t.State.scrollAnchor=c,t.State.scrollPropertyLeft="pageXOffset",t.State.scrollPropertyTop="pageYOffset"):(t.State.scrollAnchor=d.documentElement||d.body.parentNode||d.body,t.State.scrollPropertyLeft="scrollLeft",t.State.scrollPropertyTop="scrollTop");var u=function(){function a(a,b){return 1-3*b+3*a}function b(a,b){return 3*b-6*a}function c(a){return 3*a}function d(d,e,f){return((a(e,f)*d+b(e,f))*d+c(e))*d}function e(d,e,f){return 3*a(e,f)*d*d+2*b(e,f)*d+c(e)}return function(a,b,c,f){function g(b){for(var f=b,g=0;8>g;++g){var h=e(f,a,c);if(0===h)return f;var i=d(f,a,c)-b;f-=i/h}return f}if(4!==arguments.length)return!1;for(var h=0;4>h;++h)if("number"!=typeof arguments[h]||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;return a=Math.min(a,1),c=Math.min(c,1),a=Math.max(a,0),c=Math.max(c,0),function(e){return a===b&&c===f?e:d(g(e),b,f)}}}(),v=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;h=c(h||i,g),j.push(1+h.x),k+=16,Math.abs(h.x)>l&&Math.abs(h.v)>l;);return f?function(a){return j[a*(j.length-1)|0]}:k}}();!function(){t.Easings.linear=function(a){return a},t.Easings.swing=function(a){return.5-Math.cos(a*Math.PI)/2},t.Easings.spring=function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)},t.Easings.ease=u(.25,.1,.25,1),t.Easings["ease-in"]=u(.42,0,1,1),t.Easings["ease-out"]=u(0,0,.58,1),t.Easings["ease-in-out"]=u(.42,0,.58,1);var a={};l.each(["Quad","Cubic","Quart","Quint","Expo"],function(b,c){a[c]=function(a){return Math.pow(a,b+2)}}),l.extend(a,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),l.each(a,function(a,b){t.Easings["easeIn"+a]=b,t.Easings["easeOut"+a]=function(a){return 1-b(1-a)},t.Easings["easeInOut"+a]=function(a){return.5>a?b(2*a)/2:1-b(-2*a+2)/2}})}();var w=t.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<w.Lists.colors.length;a++)w.Hooks.templates[w.Lists.colors[a]]=["Red Green Blue Alpha","255 255 255 1"];var b,c,d;if(p)for(b in w.Hooks.templates){c=w.Hooks.templates[b],d=c[0].split(" ");var e=c[1].match(w.RegEx.valueSplit);"Color"===d[0]&&(d.push(d.shift()),e.push(e.shift()),w.Hooks.templates[b]=[d.join(" "),e.join(" ")])}for(b in w.Hooks.templates){c=w.Hooks.templates[b],d=c[0].split(" ");for(var a in d){var f=b+d[a],g=a;w.Hooks.registered[f]=[b,g]}}},getRoot:function(a){var b=w.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return w.RegEx.valueUnwrap.test(b)&&(b=b.match(w.Hooks.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(b)&&(b=w.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=w.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=w.Hooks.cleanRootPropertyValue(d,b),b.toString().match(w.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=w.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=w.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(w.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return w.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(w.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},opacity:function(a,b,c){if(8>=p)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=p||t.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var a=0;a<w.Lists.transformsBase.length;a++)!function(){var b=w.Lists.transformsBase[a];w.Normalizations.registered[b]=function(a,c,d){switch(a){case"name":return"transform";case"extract":return g(c)===e||g(c).transformCache[b]===e?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(d);break;case"scal":case"scale":t.State.isAndroid&&g(c).transformCache[b]===e&&1>d&&(d=1),f=!/(\d)$/i.test(d);break;case"skew":f=!/(deg|\d)$/i.test(d);break;case"rotate":f=!/(deg|\d)$/i.test(d)}return f||(g(c).transformCache[b]="("+d+")"),g(c).transformCache[b]}}}();for(var a=0;a<w.Lists.colors.length;a++)!function(){var b=w.Lists.colors[a];w.Normalizations.registered[b]=function(a,c,d){switch(a){case"name":return b;case"extract":var f;if(w.RegEx.wrappedValueAlreadyExtracted.test(d))f=d;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(d)?g=h[d]!==e?h[d]:h.black:w.RegEx.isHex.test(d)?g="rgb("+w.Values.hexToRgb(d).join(" ")+")":/^rgba?\(/i.test(d)||(g=h.black),f=(g||d).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=p||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=p?4===d.split(" ").length&&(d=d.split(/\s+/).slice(0,3).join(" ")):3===d.split(" ").length&&(d+=" 1"),(8>=p?"rgb":"rgba")+"("+d.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(p||t.State.isAndroid&&!t.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(t.State.prefixMatches[a])return[t.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),s.isString(t.State.prefixElement.style[e]))return t.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,b,d,f){function h(a,b){function d(){j&&w.setPropertyValue(a,"display","none")}var i=0;if(8>=p)i=l.css(a,b);else{var j=!1;if(/^(width|height)$/.test(b)&&0===w.getPropertyValue(a,"display")&&(j=!0,w.setPropertyValue(a,"display",w.Values.getDisplayType(a))),!f){if("height"===b&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(w.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(a,"paddingBottom"))||0);return d(),k}if("width"===b&&"border-box"!==w.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var m=a.offsetWidth-(parseFloat(w.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(a,"paddingRight"))||0);return d(),m}}var n;n=g(a)===e?c.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=c.getComputedStyle(a,null),(p||t.State.isFirefox)&&"borderColor"===b&&(b="borderTopColor"),i=9===p&&"filter"===b?n.getPropertyValue(b):n[b],(""===i||null===i)&&(i=a.style[b]),d()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(b)){var o=h(a,"position");("fixed"===o||"absolute"===o&&/top|left/i.test(b))&&(i=l(a).position()[b]+"px")}return i}var i;if(w.Hooks.registered[b]){var j=b,k=w.Hooks.getRoot(j);d===e&&(d=w.getPropertyValue(a,w.Names.prefixCheck(k)[0])),w.Normalizations.registered[k]&&(d=w.Normalizations.registered[k]("extract",a,d)),i=w.Hooks.extractValue(j,d)}else if(w.Normalizations.registered[b]){var m,n;m=w.Normalizations.registered[b]("name",a),"transform"!==m&&(n=h(a,w.Names.prefixCheck(m)[0]),w.Values.isCSSNullValue(n)&&w.Hooks.templates[b]&&(n=w.Hooks.templates[b][1])),i=w.Normalizations.registered[b]("extract",a,n)}return/^[\d-]/.test(i)||(i=g(a)&&g(a).isSVG&&w.Names.SVGAttribute(b)?/^(height|width)$/i.test(b)?a.getBBox()[b]:a.getAttribute(b):h(a,w.Names.prefixCheck(b)[0])),w.Values.isCSSNullValue(i)&&(i=0),t.debug>=2&&console.log("Get "+b+": "+i),i},setPropertyValue:function(a,b,d,e,f){var h=b;if("scroll"===b)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?c.scrollTo(d,f.alternateValue):c.scrollTo(f.alternateValue,d);else if(w.Normalizations.registered[b]&&"transform"===w.Normalizations.registered[b]("name",a))w.Normalizations.registered[b]("inject",a,d),h="transform",d=g(a).transformCache[b];else{if(w.Hooks.registered[b]){var i=b,j=w.Hooks.getRoot(b);e=e||w.getPropertyValue(a,j),d=w.Hooks.injectValue(i,d,e),b=j}if(w.Normalizations.registered[b]&&(d=w.Normalizations.registered[b]("inject",a,d),b=w.Normalizations.registered[b]("name",a)),h=w.Names.prefixCheck(b)[0],8>=p)try{a.style[h]=d}catch(k){t.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else g(a)&&g(a).isSVG&&w.Names.SVGAttribute(b)?a.setAttribute(b,d):a.style[h]=d;t.debug>=2&&console.log("Set "+b+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(w.getPropertyValue(a,b))}var c="";if((p||t.State.isAndroid&&!t.State.isChrome)&&g(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};l.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;l.each(g(a).transformCache,function(b){return e=g(a).transformCache[b],"transformPerspective"===b?(f=e,!0):(9===p&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),f&&(c="perspective"+f+" "+c)}w.setPropertyValue(a,"transform",c)}};w.Hooks.register(),w.Normalizations.register(),t.animate=function(){function a(){return h?A.promise||null:m}function b(){function a(){function a(a,b){var c=e,d=e,f=e;return s.isArray(a)?(c=a[0],!s.isArray(a[1])&&/^[\d-]/.test(a[1])||s.isFunction(a[1])||w.RegEx.isHex.test(a[1])?f=a[1]:(s.isString(a[1])&&!w.RegEx.isHex.test(a[1])||s.isArray(a[1]))&&(d=b?a[1]:i(a[1],k.duration),a[2]!==e&&(f=a[2]))):c=a,b||(d=d||k.easing),s.isFunction(c)&&(c=c.call(h,x,v)),s.isFunction(f)&&(f=f.call(h,x,v)),[c||0,d,f]}function n(a,b){var c,d;return d=(b||0).toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=w.Values.getUnitType(a)),[d,c]}function o(){var a={myParent:h.parentNode||d.body,position:w.getPropertyValue(h,"position"),fontSize:w.getPropertyValue(h,"fontSize")},b=a.position===G.lastPosition&&a.myParent===G.lastParent,e=a.fontSize===G.lastFontSize;G.lastParent=a.myParent,G.lastPosition=a.position,G.lastFontSize=a.fontSize;var f=100,i={};if(e&&b)i.emToPx=G.lastEmToPx,i.percentToPxWidth=G.lastPercentToPxWidth,i.percentToPxHeight=G.lastPercentToPxHeight;else{var j=g(h).isSVG?d.createElementNS("http://www.w3.org/2000/svg","rect"):d.createElement("div");t.init(j),a.myParent.appendChild(j),t.CSS.setPropertyValue(j,"position",a.position),t.CSS.setPropertyValue(j,"fontSize",a.fontSize),t.CSS.setPropertyValue(j,"overflow","hidden"),t.CSS.setPropertyValue(j,"overflowX","hidden"),t.CSS.setPropertyValue(j,"overflowY","hidden"),t.CSS.setPropertyValue(j,"boxSizing","content-box"),t.CSS.setPropertyValue(j,"paddingLeft",f+"em"),t.CSS.setPropertyValue(j,"minWidth",f+"%"),t.CSS.setPropertyValue(j,"maxWidth",f+"%"),t.CSS.setPropertyValue(j,"width",f+"%"),t.CSS.setPropertyValue(j,"minHeight",f+"%"),t.CSS.setPropertyValue(j,"maxHeight",f+"%"),t.CSS.setPropertyValue(j,"height",f+"%"),i.percentToPxWidth=G.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(j,"width",null,!0))||1)/f,i.percentToPxHeight=G.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(j,"height",null,!0))||1)/f,i.emToPx=G.lastEmToPx=(parseFloat(w.getPropertyValue(j,"paddingLeft"))||1)/f,a.myParent.removeChild(j)}return null===G.remToPx&&(G.remToPx=parseFloat(w.getPropertyValue(d.body,"fontSize"))||16),null===G.vwToPx&&(G.vwToPx=parseFloat(c.innerWidth)/100,G.vhToPx=parseFloat(c.innerHeight)/100),i.remToPx=G.remToPx,i.vwToPx=G.vwToPx,i.vhToPx=G.vhToPx,t.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),h),i}if(k.begin&&0===x)try{k.begin.call(p,p)}catch(u){setTimeout(function(){throw u},1)}if("scroll"===B){var y,z,C,D=/^x$/i.test(k.axis)?"Left":"Top",E=parseFloat(k.offset)||0;k.container?s.isWrapped(k.container)||s.isNode(k.container)?(k.container=k.container[0]||k.container,y=k.container["scroll"+D],C=y+l(h).position()[D.toLowerCase()]+E):k.container=null:(y=t.State.scrollAnchor[t.State["scrollProperty"+D]],z=t.State.scrollAnchor[t.State["scrollProperty"+("Left"===D?"Top":"Left")]],C=l(h).offset()[D.toLowerCase()]+E),m={scroll:{rootPropertyValue:!1,startValue:y,currentValue:y,endValue:C,unitType:"",easing:k.easing,scrollData:{container:k.container,direction:D,alternateValue:z}},element:h},t.debug&&console.log("tweensContainer (scroll): ",m.scroll,h)}else if("reverse"===B){if(!g(h).tweensContainer)return void l.dequeue(h,k.queue);"none"===g(h).opts.display&&(g(h).opts.display="block"),"hidden"===g(h).opts.visibility&&(g(h).opts.visibility="visible"),g(h).opts.loop=!1,g(h).opts.begin=null,g(h).opts.complete=null,r.easing||delete k.easing,r.duration||delete k.duration,k=l.extend({},g(h).opts,k);var F=l.extend(!0,{},g(h).tweensContainer);for(var I in F)if("element"!==I){var J=F[I].startValue;F[I].startValue=F[I].currentValue=F[I].endValue,F[I].endValue=J,s.isEmptyObject(r)||(F[I].easing=k.easing),t.debug&&console.log("reverse tweensContainer ("+I+"): "+JSON.stringify(F[I]),h)}m=F}else if("start"===B){var F;g(h).tweensContainer&&g(h).isAnimating===!0&&(F=g(h).tweensContainer),l.each(q,function(b,c){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(b)){var d=a(c,!0),f=d[0],g=d[1],h=d[2];if(w.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],j=w.Values.hexToRgb(f),k=h?w.Values.hexToRgb(h):e,l=0;l<i.length;l++)q[b+i[l]]=[j[l],g,k?k[l]:k];delete q[b]}}});for(var K in q){var L=a(q[K]),M=L[0],N=L[1],O=L[2];K=w.Names.camelCase(K);var P=w.Hooks.getRoot(K),Q=!1;if(g(h).isSVG||w.Names.prefixCheck(P)[1]!==!1||w.Normalizations.registered[P]!==e){(k.display&&"none"!==k.display||k.visibility&&"hidden"!==k.visibility)&&/opacity|filter/.test(K)&&!O&&0!==M&&(O=0),k._cacheValues&&F&&F[K]?(O===e&&(O=F[K].endValue+F[K].unitType),Q=g(h).rootPropertyValueCache[P]):w.Hooks.registered[K]?O===e?(Q=w.getPropertyValue(h,P),O=w.getPropertyValue(h,K,Q)):Q=w.Hooks.templates[P][1]:O===e&&(O=w.getPropertyValue(h,K));var R,S,T,U=!1;if(R=n(K,O),O=R[0],T=R[1],R=n(K,M),M=R[0].replace(/^([+-\/*])=/,function(a,b){return U=b,""}),S=R[1],O=parseFloat(O)||0,M=parseFloat(M)||0,"%"===S&&(/^(fontSize|lineHeight)$/.test(K)?(M/=100,S="em"):/^scale/.test(K)?(M/=100,S=""):/(Red|Green|Blue)$/i.test(K)&&(M=M/100*255,S="")),/[\/*]/.test(U))S=T;else if(T!==S&&0!==O)if(0===M)S=T;else{b=b||o();var V=/margin|padding|left|right|width|text|word|letter/i.test(K)||/X$/.test(K)?"x":"y";switch(T){case"%":O*="x"===V?b.percentToPxWidth:b.percentToPxHeight;break;case"px":break;default:O*=b[T+"ToPx"]}switch(S){case"%":O*=1/("x"===V?b.percentToPxWidth:b.percentToPxHeight);break;case"px":break;default:O*=1/b[S+"ToPx"]}}switch(U){case"+":M=O+M;break;case"-":M=O-M;break;case"*":M=O*M;break;case"/":M=O/M}m[K]={rootPropertyValue:Q,startValue:O,currentValue:O,endValue:M,unitType:S,easing:N},t.debug&&console.log("tweensContainer ("+K+"): "+JSON.stringify(m[K]),h)}else t.debug&&console.log("Skipping ["+P+"] due to a lack of browser support.")}m.element=h}m.element&&(w.Values.addClass(h,"velocity-animating"),H.push(m),g(h).tweensContainer=m,g(h).opts=k,g(h).isAnimating=!0,x===v-1?(t.State.calls.length>1e4&&(t.State.calls=f(t.State.calls)),t.State.calls.push([H,p,k,null,A.resolver]),t.State.isTicking===!1&&(t.State.isTicking=!0,j())):x++)}var b,h=this,k=l.extend({},t.defaults,r),m={};if(g(h)===e&&t.init(h),parseFloat(k.delay)&&k.queue!==!1&&l.queue(h,k.queue,function(a){t.velocityQueueEntryFlag=!0,g(h).delayTimer={setTimeout:setTimeout(a,parseFloat(k.delay)),next:a}}),t.mock===!0)k.duration=1;else switch(k.duration.toString().toLowerCase()){case"fast":k.duration=200;
break;case"normal":k.duration=n;break;case"slow":k.duration=600;break;default:k.duration=parseFloat(k.duration)||1}k.easing=i(k.easing,k.duration),k.begin&&!s.isFunction(k.begin)&&(k.begin=null),k.progress&&!s.isFunction(k.progress)&&(k.progress=null),k.complete&&!s.isFunction(k.complete)&&(k.complete=null),k.display&&(k.display=k.display.toString().toLowerCase(),"auto"===k.display&&(k.display=t.CSS.Values.getDisplayType(h))),k.visibility&&(k.visibility=k.visibility.toString().toLowerCase()),k.mobileHA=k.mobileHA&&t.State.isMobile&&!t.State.isGingerbread,k.queue===!1?k.delay?setTimeout(a,k.delay):a():l.queue(h,k.queue,function(b,c){return c===!0?(A.promise&&A.resolver(p),!0):(t.velocityQueueEntryFlag=!0,void a(b))}),""!==k.queue&&"fx"!==k.queue||"inprogress"===l.queue(h)[0]||l.dequeue(h)}var h,m,o,p,q,r,u=arguments[0]&&(l.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||s.isString(arguments[0].properties));if(s.isWrapped(this)?(h=!1,o=0,p=this,m=this):(h=!0,o=1,p=u?arguments[0].elements:arguments[0]),p=s.isWrapped(p)?[].slice.call(p):p){u?(q=arguments[0].properties,r=arguments[0].options):(q=arguments[o],r=arguments[o+1]);var v=s.isArray(p)||s.isNodeList(p)?p.length:1,x=0;if("stop"!==q&&!l.isPlainObject(r)){var y=o+1;r={};for(var z=y;z<arguments.length;z++)!s.isArray(arguments[z])&&/^\d/.test(arguments[z])?r.duration=parseFloat(arguments[z]):s.isString(arguments[z])||s.isArray(arguments[z])?r.easing=arguments[z]:s.isFunction(arguments[z])&&(r.complete=arguments[z])}var A={promise:null,resolver:null,rejecter:null};h&&t.Promise&&(A.promise=new t.Promise(function(a,b){A.resolver=a,A.rejecter=b}));var B;switch(q){case"scroll":B="scroll";break;case"reverse":B="reverse";break;case"stop":l.each(s.isNode(p)?[p]:p,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer)});var C=[];return l.each(t.State.calls,function(a,b){b&&l.each(s.isNode(b[1])?[b[1]]:b[1],function(b,c){l.each(s.isNode(p)?[p]:p,function(b,d){if(d===c){if(g(d)&&l.each(g(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),r===!0||s.isString(r)){var e=s.isString(r)?r:"";l.each(l.queue(d,e),function(a,b){s.isFunction(b)&&b(null,!0)}),l.queue(d,e,[])}C.push(a)}})})}),l.each(C,function(a,b){k(b,!0)}),A.promise&&A.resolver(p),a();default:if(!l.isPlainObject(q)||s.isEmptyObject(q)){if(s.isString(q)&&t.Sequences[q]){var D=r.duration,E=r.delay||0;return r.backwards===!0&&(p=(s.isWrapped(p)?[].slice.call(p):p).reverse()),l.each(p,function(a,b){parseFloat(r.stagger)?r.delay=E+parseFloat(r.stagger)*a:s.isFunction(r.stagger)&&(r.delay=E+r.stagger.call(b,a,v)),r.drag&&(r.duration=parseFloat(D)||(/^(callout|transition)/.test(q)?1e3:n),r.duration=Math.max(r.duration*(r.backwards?1-a/v:(a+1)/v),.75*r.duration,200)),t.Sequences[q].call(b,b,r||{},a,v,p,A.promise?A:e)}),a()}var F="Velocity: First argument ("+q+") was not a property map, a known action, or a registered sequence. Aborting.";return A.promise?A.rejecter(new Error(F)):console.log(F),a()}B="start"}var G={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},H=[];l.each(s.isNode(p)?[p]:p,function(a,c){s.isNode(c)&&b.call(c)});var I,J=l.extend({},t.defaults,r);if(J.loop=parseInt(J.loop),I=2*J.loop-1,J.loop)for(var K=0;I>K;K++){var L={delay:J.delay};K===I-1&&(L.display=J.display,L.visibility=J.visibility,L.complete=J.complete),t.animate(p,"reverse",L)}return a()}},t.State.isMobile||d.hidden===e||d.addEventListener("visibilitychange",function(){d.hidden?(r=function(a){return setTimeout(function(){a(!0)},16)},j()):r=c.requestAnimationFrame||q});var x;return a&&a.fn?x=a:c.Zepto&&(x=c.Zepto),(x||c).Velocity=t,x&&(x.fn.velocity=t.animate,x.fn.velocity.defaults=t.defaults),l.each(["Down","Up"],function(a,b){t.Sequences["slide"+b]=function(a,c,d,e,f,g){var h=l.extend({},c),i={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},j=h.begin,k=h.complete,m=!1;null!==h.display&&(h.display="Down"===b?h.display||"auto":h.display||"none"),h.begin=function(){function c(){i.height=parseFloat(t.CSS.getPropertyValue(a,"height")),a.style.height="auto",parseFloat(t.CSS.getPropertyValue(a,"height"))===i.height&&(m=!0),t.CSS.setPropertyValue(a,"height",i.height+"px")}if("Down"===b){i.overflow=[t.CSS.getPropertyValue(a,"overflow"),0],i.overflowX=[t.CSS.getPropertyValue(a,"overflowX"),0],i.overflowY=[t.CSS.getPropertyValue(a,"overflowY"),0],a.style.overflow="hidden",a.style.overflowX="visible",a.style.overflowY="hidden",c();for(var d in i)if(!/^overflow/.test(d)){var e=t.CSS.getPropertyValue(a,d);"height"===d&&(e=parseFloat(e)),i[d]=[e,0]}}else{c();for(var d in i){var e=t.CSS.getPropertyValue(a,d);"height"===d&&(e=parseFloat(e)),i[d]=[0,e]}a.style.overflow="hidden",a.style.overflowX="visible",a.style.overflowY="hidden"}j&&j.call(a,a)},h.complete=function(a){var c="Down"===b?0:1;m===!0?i.height[c]="auto":i.height[c]+="px";for(var d in i)a.style[d]=i[d][c];k&&k.call(a,a),g&&g.resolver(f||a)},t.animate(a,i,h)}}),l.each(["In","Out"],function(a,b){t.Sequences["fade"+b]=function(a,c,d,e,f,g){var h=l.extend({},c),i={opacity:"In"===b?1:0};if(d!==e-1)h.complete=h.begin=null;else{var j=h.complete;h.complete=function(){j&&j.call(a,a),g&&g.resolver(f||a)}}null!==h.display&&(h.display=h.display||("In"===b?"auto":"none")),t.animate(this,i,h)}}),t}(a||window,window,document)});var Nanobar=function(){"use strict";var a,b,c,d,e,f,g={width:"100%",height:"4px",zIndex:9999,top:"0"},h={width:0,height:"100%",clear:"both",transition:"height .3s"};return a=function(a,b){var c;for(c in b)a.style[c]=b[c];a.style["float"]="left"},d=function(){var a=this,b=this.width-this.here;.1>b&&b>-.1?(e.call(this,this.here),this.moving=!1,100==this.width&&(this.el.style.height=0,setTimeout(function(){a.cont.el.removeChild(a.el)},300))):(e.call(this,this.width-b/4),setTimeout(function(){a.go()},16))},e=function(a){this.width=a,this.el.style.width=this.width+"%"},f=function(){var a=new b(this);this.bars.unshift(a)},b=function(b){this.el=document.createElement("div"),this.el.style.backgroundColor=b.opts.bg,this.width=0,this.here=0,this.moving=!1,this.cont=b,a(this.el,h),b.el.appendChild(this.el)},b.prototype.go=function(a){a?(this.here=a,this.moving||(this.moving=!0,d.call(this))):this.moving&&d.call(this)},c=function(b){var c,d=this.opts=b||{};d.bg=d.bg||"#000",this.bars=[],c=this.el=document.createElement("div"),a(this.el,g),d.id&&(c.id=d.id),c.style.position=d.target?"relative":"fixed",d.target?d.target.insertBefore(c,d.target.firstChild):document.getElementsByTagName("body")[0].appendChild(c),f.call(this)},c.prototype.go=function(a){this.bars[0].go(a),100==a&&f.call(this)},c}();!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var BlurbSlider={init:function(){$(".slideshow").skippr({autoPlay:!0,autoPlayDuration:4e3,navType:"bubble"})}},Mast={init:function(){requestAnimationFrame(Mast.track)},element:$(".mast"),track:function(){var a=$(document).scrollTop(),b=Mast.element.height(),c=$(window).height();a>c-b?Mast.element.addClass("below-fold"):Mast.element.removeClass("below-fold"),requestAnimationFrame(Mast.track)}},MobileMast={init:function(){requestAnimationFrame(MobileMast.track)},element:$(".mobile-mast"),track:function(){var a=$(document).scrollTop(),b=MobileMast.element.height(),c=$(window).height();c-b>a?MobileMast.element.addClass("above-fold"):MobileMast.element.removeClass("above-fold"),requestAnimationFrame(MobileMast.track)}},Squares={init:function(){Squares.squarify(),setTimeout(function(){Squares.init()},100)},squarify:function(){var a=$(".square");a.each(function(){var a=$(this).width();$(this).height(a)}),a=null}},PurchaseColumn={init:function(){$(window).width()>1300&&(this.parent=this.element.parent(),this.parentHeight=this.parent.height(),this.initialOffsetTop=this.element.offset().top,this.elementHeight=this.element.height(),requestAnimationFrame(PurchaseColumn.stick))},element:$(".product-column-right"),parent:null,parentHeight:null,initialOffsetTop:0,elementHeight:null,stick:function(){var a=$(document).scrollTop(),b=PurchaseColumn.initialOffsetTop,c=PurchaseColumn.elementHeight,d=PurchaseColumn.parentHeight,e=a-b+70;a>b-70&&b-70+(d-c)>a?PurchaseColumn.element.css("top",e+"px"):a>=b-70+(d-c)?PurchaseColumn.element.css("top",d-c+"px"):PurchaseColumn.element.css("top","0px"),requestAnimationFrame(PurchaseColumn.stick)}},PoleScroll={init:function(){var a=this;a.scrollPosition(),setTimeout(function(){a.scrollPosition()},1e3)},element:$(".scroller"),scrollPosition:function(){var a=$(".scroller"),b=$(window).width();"head"===layoutType||"bands"===slug||"cable-w-tip"===slug||"cable"===slug?a.scrollLeft(1e3>b?$(".scroller-image.visible").width()-600:$(".scroller-image.visible").width()):"shrinker"===layoutType?b>1100?a.scrollLeft($(".scroller-image").width()-2900):1100>b&&b>500?a.scrollLeft($(".scroller-image").width()-2450):500>=b&&a.scrollLeft($(".scroller-image").width()-1780):"undefined"!=typeof slug&&"offshore-striker"===slug?b>1100?a.scrollLeft($(".scroller-image").width()-2500):1100>b&&b>500?a.scrollLeft($(".scroller-image").width()-2250):500>=b&&a.scrollLeft($(".scroller-image").width()-1580):("undefined"!=typeof slug&&"g-string"===slug||"black g-string"===slug)&&a.scrollLeft($(".scroller-image").width()-5300),a=null},scrollAcross:function(){var a=$(".scroller"),b=$(".scroller-image").width(),c=a.scrollLeft();b/2>c?a.stop().animate({scrollLeft:b},2500):a.stop().animate({scrollLeft:0},2500)},center:function(){var a=$(".scroller");a.scrollLeft($(".scroller-image").width()-5300)}},ApparelRotator={init:function(a){var b;"niner-tshirt"===a?b=this.photos.niner:"superhero-tshirt"===a?b=this.photos.superhero:"comfort-hoody"===a&&(b=this.photos.comfort),$(".apparel-container").rollerblade({imageArray:b})},photos:{niner:[CONFIG.base+"/img/apparel/niner/niner-1.jpg",CONFIG.base+"/img/apparel/niner/niner-2.jpg",CONFIG.base+"/img/apparel/niner/niner-3.jpg",CONFIG.base+"/img/apparel/niner/niner-4.jpg",CONFIG.base+"/img/apparel/niner/niner-5.jpg",CONFIG.base+"/img/apparel/niner/niner-6.jpg",CONFIG.base+"/img/apparel/niner/niner-7.jpg",CONFIG.base+"/img/apparel/niner/niner-8.jpg"],superhero:[CONFIG.base+"/img/apparel/superhero/superhero-1.jpg",CONFIG.base+"/img/apparel/superhero/superhero-2.jpg",CONFIG.base+"/img/apparel/superhero/superhero-3.jpg",CONFIG.base+"/img/apparel/superhero/superhero-4.jpg",CONFIG.base+"/img/apparel/superhero/superhero-5.jpg",CONFIG.base+"/img/apparel/superhero/superhero-6.jpg",CONFIG.base+"/img/apparel/superhero/superhero-7.jpg",CONFIG.base+"/img/apparel/superhero/superhero-8.jpg"],comfort:[CONFIG.base+"/img/apparel/comfort/comfort-1.jpg",CONFIG.base+"/img/apparel/comfort/comfort-2.jpg",CONFIG.base+"/img/apparel/comfort/comfort-3.jpg",CONFIG.base+"/img/apparel/comfort/comfort-4.jpg",CONFIG.base+"/img/apparel/comfort/comfort-5.jpg",CONFIG.base+"/img/apparel/comfort/comfort-6.jpg",CONFIG.base+"/img/apparel/comfort/comfort-7.jpg",CONFIG.base+"/img/apparel/comfort/comfort-8.jpg"]}},Grid={init:function(){this.squarify(),this.rectanglify()},squarify:function(){$(".media-square").each(function(){var a=$(this).width();$(this).height(a)})},rectanglify:function(){$(".media-rectangle").each(function(){var a=$(this).width();$(this).height(1.5*a)})}};$(document).ready(function(){Squares.init(),"media"===currentRoute&&Grid.init(),("home"===currentRoute||"australia"===currentRoute)&&(Mast.init(),MobileMast.init(),BlurbSlider.init()),"product.show"===currentRoute&&PurchaseColumn.init(),"apparel"===layoutType&&null!==slug&&ApparelRotator.init(slug),$("a[href*=#]:not([href=#])").on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=$(this.hash);if(a=a.length?a:$("[name="+this.hash.slice(1)+"]"),a.length)return $("html,body").animate({scrollTop:a.offset().top},400),!1}})});var Inputs={blur:function(){$("input").each(function(){$(this).blur()})}};$(document).ready(function(){$homeUrl=window.location.href.split("/#/"),"store"===$homeUrl[1]&&$('a[href="#store"]').click(),"contact"===$homeUrl[1]&&$('a[href="#contact"]').click(),setTimeout(function(){$("a.grouped_elements").fancyboxPlus()},500)}),$(window).resize(function(){Squares.init(),"media"===currentRoute&&Grid.init()}),angular.module("ivpusic.cookie",["ipCookie"]),angular.module("ipCookie",["ng"]).factory("ipCookie",["$document",function(a){"use strict";function b(a){try{return decodeURIComponent(a)}catch(b){}}return function(){function c(c,d,e){var f,g,h,i,j,k,l,m,n;if(e=e||{},void 0!==d)return d="object"==typeof d?JSON.stringify(d):String(d),"number"==typeof e.expires&&(n=e.expires,e.expires=new Date,-1===n?e.expires=new Date("Thu, 01 Jan 1970 00:00:00 GMT"):void 0!==e.expirationUnit?"hours"===e.expirationUnit?e.expires.setHours(e.expires.getHours()+n):"minutes"===e.expirationUnit?e.expires.setMinutes(e.expires.getMinutes()+n):"seconds"===e.expirationUnit?e.expires.setSeconds(e.expires.getSeconds()+n):e.expires.setDate(e.expires.getDate()+n):e.expires.setDate(e.expires.getDate()+n)),a[0].cookie=[encodeURIComponent(c),"=",encodeURIComponent(d),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("");for(g=[],m=a[0].cookie,m&&(g=m.split("; ")),f={},l=!1,h=0;h<g.length;++h)if(g[h]){if(i=g[h],j=i.indexOf("="),k=i.substring(0,j),d=b(i.substring(j+1)),angular.isUndefined(d))continue;if(void 0===c||c===k){try{f[k]=JSON.parse(d)}catch(o){f[k]=d}if(c===k)return f[k];l=!0}}return l&&void 0===c?f:void 0}return c.remove=function(a,b){var d=void 0!==c(a);return d&&(b||(b={}),b.expires=-1,c(a,"",b)),d},c}()}]),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var a="$$ngAnimateChildren";return function(c,d,e){var f=e.ngAnimateChildren;b.isString(f)&&0===f.length?d.data(a,!0):c.$watch(f,function(b){d.data(a,!!b)})}}).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){c.offsetWidth+1;b()})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==q)return c}}function g(a){return a&&b.element(a)}function h(a){return b.element(f(a))}function i(a,b){return f(a)==f(b)}var j,k=b.noop,l=b.forEach,m=e.$$selectors,n=b.isArray,o=b.isString,p=b.isObject,q=1,r="$$ngAnimateState",s="$$ngAnimateChildren",t="ng-animate",u={running:!0};d.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(a,c,d,q,v,w,x,y,z,A){function B(a,b){var c=a.data(r)||{};return b&&(c.running=!0,c.structural=!0,a.data(r,c)),c.disabled||c.running&&c.structural}function C(a){var b,d=c.defer();return d.promise.$$cancelFn=function(){b&&b()},x.$$postDigest(function(){b=a(function(){d.resolve()})}),d.promise}function D(a){return p(a)?(a.tempClasses&&o(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a):void 0}function E(a,b,c){c=c||{};var d={};l(c,function(a,b){l(b.split(" "),function(b){d[b]=a})});var e=Object.create(null);l((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0});var f=[],g=[];return l(b&&b.classes||[],function(a,b){var c=e[b],h=d[b]||{};a===!1?(c||"addClass"==h.event)&&g.push(b):a===!0&&(c&&"removeClass"!=h.event||f.push(b))}),f.length+g.length>0&&[f.join(" "),g.join(" ")]}function F(a){if(a){var b=[],c={},e=a.substr(1).split(".");(q.transitions||q.animations)&&b.push(d.get(m[""]));for(var f=0;f<e.length;f++){var g=e[f],h=m[g];h&&!c[g]&&(b.push(d.get(h)),c[g]=!0)}return b}}function G(a,c,d,e){function f(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),w.push({event:b,fn:c}),t.push({event:b,fn:d}),!0):void 0}function g(b,c,f){function g(a){if(c){if((c[a]||k)(),++m<h.length)return;c=null}f()}var h=[];l(b,function(a){a.fn&&h.push(a)});var m=0;l(h,function(b,f){var h=function(){g(f)};switch(b.event){case"setClass":c.push(b.fn(a,i,j,h,e));break;case"animate":c.push(b.fn(a,d,e.from,e.to,h));break;case"addClass":c.push(b.fn(a,i||d,h,e));break;case"removeClass":c.push(b.fn(a,j||d,h,e));break;default:c.push(b.fn(a,h,e))}}),c&&0===c.length&&f()}var h=a[0];if(h){e&&(e.to=e.to||{},e.from=e.from||{});var i,j;n(d)&&(i=d[0],j=d[1],i?j?d=i+" "+j:(d=i,c="addClass"):(d=j,c="removeClass"));var m="setClass"==c,o=m||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class"),q=p+" "+d;if(O(q)){var r=k,s=[],t=[],u=k,v=[],w=[],x=(" "+q).replace(/\s+/g,".");return l(F(x),function(a){var b=f(a,c);!b&&m&&(f(a,"addClass"),f(a,"removeClass"))}),{node:h,event:c,className:d,isClassBased:o,isSetClassOperation:m,applyStyles:function(){e&&a.css(b.extend(e.from||{},e.to||{}))},before:function(a){r=a,g(t,s,function(){r=k,a()})},after:function(a){u=a,g(w,v,function(){u=k,a()})},cancel:function(){s&&(l(s,function(a){(a||k)(!0)}),r(!0)),v&&(l(v,function(a){(a||k)(!0)}),u(!0))}}}}}function H(a,c,d,e,f,g,h,i){function m(b){var e="$animate:"+b;x&&x[e]&&x[e].length>0&&w(function(){d.triggerHandler(e,{event:a,className:c})})}function n(){m("before")}function o(){m("after")}function p(){m("close"),i()}function q(){q.hasBeenRun||(q.hasBeenRun=!0,g())}function s(){if(!s.hasBeenRun){v&&v.applyStyles(),s.hasBeenRun=!0,h&&h.tempClasses&&l(h.tempClasses,function(a){j.removeClass(d,a)});var b=d.data(r);b&&(v&&v.isClassBased?J(d,c):(w(function(){var b=d.data(r)||{};H==b.index&&J(d,c,a)}),d.data(r,b))),p()}}var u=k,v=G(d,a,c,h);if(!v)return q(),n(),o(),s(),u;a=v.event,c=v.className;var x=b.element._data(v.node);if(x=x&&x.events,e||(e=f?f.parent():d.parent()),K(d,e))return q(),n(),o(),s(),u;var y=d.data(r)||{},z=y.active||{},A=y.totalActive||0,B=y.last,C=!1;if(A>0){var D=[];if(v.isClassBased){if("setClass"==B.event)D.push(B),J(d,c);else if(z[c]){var E=z[c];E.event==a?C=!0:(D.push(E),J(d,c))}}else if("leave"==a&&z["ng-leave"])C=!0;else{for(var F in z)D.push(z[F]);y={},J(d,!0)}D.length>0&&l(D,function(a){a.cancel()})}if(!v.isClassBased||v.isSetClassOperation||"animate"==a||C||(C="addClass"==a==d.hasClass(c)),C)return q(),n(),o(),p(),u;z=y.active||{},A=y.totalActive||0,"leave"==a&&d.one("$destroy",function(){var a=b.element(this),c=a.data(r);if(c){var d=c.active["ng-leave"];d&&(d.cancel(),J(a,"ng-leave"))}}),j.addClass(d,t),h&&h.tempClasses&&l(h.tempClasses,function(a){j.addClass(d,a)});var H=M++;return A++,z[c]=v,d.data(r,{last:v,active:z,index:H,totalActive:A}),n(),v.before(function(b){var e=d.data(r);b=b||!e||!e.active[c]||v.isClassBased&&e.active[c].event!=a,q(),b===!0?s():(o(),v.after(s))}),v.cancel}function I(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(t):c.querySelectorAll("."+t);l(d,function(a){a=b.element(a);var c=a.data(r);c&&c.active&&l(c.active,function(a){a.cancel()})})}}function J(a,b){if(i(a,v))u.disabled||(u.running=!1,u.structural=!1);else if(b){var c=a.data(r)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(j.removeClass(a,t),a.removeData(r))}}function K(a,c){if(u.disabled)return!0;if(i(a,v))return u.running;var d,e,f;do{if(0===c.length)break;var g=i(c,v),h=g?u:c.data(r)||{};if(h.disabled)return!0;if(g&&(f=!0),d!==!1){var j=c.data(s);b.isDefined(j)&&(d=j)}e=e||h.running||h.last&&!h.last.isClassBased}while(c=c.parent());return!f||!d&&e}j=A,v.data(r,u);var L=x.$watch(function(){return z.totalPendingRequests},function(a){0===a&&(L(),x.$$postDigest(function(){x.$$postDigest(function(){u.running=!1})}))}),M=0,N=e.classNameFilter(),O=N?function(a){return N.test(a)}:function(){return!0};return{animate:function(a,b,c,d,e){return d=d||"ng-inline-animate",e=D(e)||{},e.from=c?b:null,e.to=c?c:b,C(function(b){return H("animate",d,h(a),null,null,k,e,b)})},enter:function(c,d,e,f){return f=D(f),c=b.element(c),d=g(d),e=g(e),B(c,!0),a.enter(c,d,e),C(function(a){return H("enter","ng-enter",h(c),d,e,k,f,a)})},leave:function(c,d){return d=D(d),c=b.element(c),I(c),B(c,!0),C(function(b){return H("leave","ng-leave",h(c),null,null,function(){a.leave(c)},d,b)})},move:function(c,d,e,f){return f=D(f),c=b.element(c),d=g(d),e=g(e),I(c),B(c,!0),a.move(c,d,e),C(function(a){return H("move","ng-move",h(c),d,e,k,f,a)})},addClass:function(a,b,c){return this.setClass(a,b,[],c)},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},setClass:function(c,d,e,g){g=D(g);var i="$$animateClasses";if(c=b.element(c),c=h(c),B(c))return a.$$setClassImmediately(c,d,e,g);var j,k=c.data(i),m=!!k;return k||(k={},k.classes={}),j=k.classes,d=n(d)?d:d.split(" "),l(d,function(a){a&&a.length&&(j[a]=!0)}),e=n(e)?e:e.split(" "),l(e,function(a){a&&a.length&&(j[a]=!1)}),m?(g&&k.options&&(k.options=b.extend(k.options||{},g)),k.promise):(c.data(i,k={classes:j,options:g}),k.promise=C(function(b){var d=c.parent(),e=f(c),g=e.parentNode;if(!g||g.$$NG_REMOVED||e.$$NG_REMOVED)return void b();var h=c.data(i);c.removeData(i);var j=c.data(r)||{},k=E(c,h,j.active);return k?H("setClass",k,c,d,null,function(){k[0]&&a.$$addClassImmediately(c,k[0]),k[1]&&a.$$removeClassImmediately(c,k[1])},h.options,b):b()}))},cancel:function(a){a.$$cancelFn()},enabled:function(a,b){switch(arguments.length){case 2:if(a)J(b);else{var c=b.data(r)||{};c.disabled=!0,b.data(r,c)}break;case 1:u.disabled=!a;break;default:a=!u.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function i(){J||(J=h(function(){W=[],J=null,U={}}))}function m(a,b){J&&J(),W.push(b),J=h(function(){l(W,function(a){a()}),W=[],J=null,U={}})}function p(a,c){var d=f(a);a=b.element(d),Z.push(a);var e=Date.now()+c;Y>=e||(g.cancel(X),Y=e,X=g(function(){r(Z),Z=[]},c,!1))}function r(a){l(a,function(a){var b=a.data(Q);b&&l(b.closeAnimationFns,function(a){a()})})}function s(a,b){var c=b?U[b]:null;if(!c){var e=0,f=0,g=0,h=0;l(a,function(a){if(a.nodeType==q){var b=d.getComputedStyle(a)||{},c=b[E+K];e=Math.max(t(c),e);var i=b[E+M];f=Math.max(t(i),f);{b[G+M]}h=Math.max(t(b[G+M]),h);var j=t(b[G+K]);j>0&&(j*=parseInt(b[G+N],10)||1),g=Math.max(j,g)}}),c={total:0,transitionDelay:f,transitionDuration:e,animationDelay:h,animationDuration:g},b&&(U[b]=c)}return c}function t(a){var b=0,c=o(a)?a.split(/\s*,\s*/):[];return l(c,function(a){b=Math.max(parseFloat(a)||0,b)}),b}function u(a){var b=a.parent(),c=b.data(P);return c||(b.data(P,++V),c=V),c+"-"+f(a).getAttribute("class")}function v(a,b,c,d){var e=["ng-enter","ng-leave","ng-move"].indexOf(c)>=0,g=u(b),h=g+" "+c,i=U[h]?++U[h].total:0,k={};if(i>0){var l=c+"-stagger",m=g+" "+l,n=!U[m];n&&j.addClass(b,l),k=s(b,m),n&&j.removeClass(b,l)}j.addClass(b,c);var o=b.data(Q)||{},p=s(b,h),q=p.transitionDuration,r=p.animationDuration;if(e&&0===q&&0===r)return j.removeClass(b,c),!1;var t=d||e&&q>0,v=r>0&&k.animationDelay>0&&0===k.animationDuration,w=o.closeAnimationFns||[];b.data(Q,{stagger:k,cacheKey:h,running:o.running||0,itemIndex:i,blockTransition:t,closeAnimationFns:w});var z=f(b);return t&&(x(z,!0),d&&b.css(d)),v&&y(z,!0),!0}function w(a,b,c,d,e){function h(){b.off(M,i),j.removeClass(b,n),j.removeClass(b,o),K&&g.cancel(K),C(b,c);var a=f(b);for(var d in r)a.style.removeProperty(r[d])}function i(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(R));Math.max(c-L,0)>=G&&e>=D&&d()}var k=f(b),m=b.data(Q);if(-1==k.getAttribute("class").indexOf(c)||!m)return void d();var n="",o="";l(c.split(" "),function(a,b){var c=(b>0?" ":"")+a;n+=c+"-active",o+=c+"-pending"});var q="",r=[],t=m.itemIndex,u=m.stagger,v=0;if(t>0){var w=0;u.transitionDelay>0&&0===u.transitionDuration&&(w=u.transitionDelay*t);var z=0;u.animationDelay>0&&0===u.animationDuration&&(z=u.animationDelay*t,r.push(I+"animation-play-state")),v=Math.round(100*Math.max(w,z))/100}v||(j.addClass(b,n),m.blockTransition&&x(k,!1));var A=m.cacheKey+" "+n,B=s(b,A),D=Math.max(B.transitionDuration,B.animationDuration);if(0===D)return j.removeClass(b,n),C(b,c),void d();!v&&e&&Object.keys(e).length>0&&(B.transitionDuration||(b.css("transition",B.animationDuration+"s linear all"),r.push("transition")),b.css(e));var E=Math.max(B.transitionDelay,B.animationDelay),G=E*T;if(r.length>0){var J=k.getAttribute("style")||"";";"!==J.charAt(J.length-1)&&(J+=";"),k.setAttribute("style",J+" "+q)}var K,L=Date.now(),M=H+" "+F,N=(E+D)*S,O=(v+N)*T;return v>0&&(j.addClass(b,o),K=g(function(){K=null,B.transitionDuration>0&&x(k,!1),B.animationDuration>0&&y(k,!1),j.addClass(b,n),j.removeClass(b,o),e&&(0===B.transitionDuration&&b.css("transition",B.animationDuration+"s linear all"),b.css(e),r.push("transition"))},v*T,!1)),b.on(M,i),m.closeAnimationFns.push(function(){h(),d()}),m.running++,p(b,O),h}function x(a,b){a.style[E+L]=b?"none":""}function y(a,b){a.style[G+O]=b?"paused":""}function z(a,b,c,d){return v(a,b,c,d)?function(a){a&&C(b,c)}:void 0}function A(a,b,c,d,e){return b.data(Q)?w(a,b,c,d,e):(C(b,c),void d())}function B(a,b,c,d,e){var f=z(a,b,c,e.from);if(!f)return i(),void d();var g=f;return m(b,function(){g=A(a,b,c,d,e.to)}),function(a){(g||k)(a)}}function C(a,b){j.removeClass(a,b);var c=a.data(Q);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(Q))}function D(a,b){var c="";return a=n(a)?a:a.split(/\s+/),l(a,function(a,d){a&&a.length>0&&(c+=(d>0?" ":"")+a+b)}),c}var E,F,G,H,I="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(I="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(I="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var J,K="Duration",L="Property",M="Delay",N="IterationCount",O="PlayState",P="$$ngAnimateKey",Q="$$ngAnimateCSS3Data",R=3,S=1.5,T=1e3,U={},V=0,W=[],X=null,Y=0,Z=[];return{animate:function(a,b,c,d,e,f){return f=f||{},f.from=c,f.to=d,B("animate",a,b,e,f)},enter:function(a,b,c){return c=c||{},B("enter",a,"ng-enter",b,c)},leave:function(a,b,c){return c=c||{},B("leave",a,"ng-leave",b,c)},move:function(a,b,c){return c=c||{},B("move",a,"ng-move",b,c)},beforeSetClass:function(a,b,c,d,e){e=e||{};var f=D(c,"-remove")+" "+D(b,"-add"),g=z("setClass",a,f,e.from);return g?(m(a,d),g):(i(),void d())},beforeAddClass:function(a,b,c,d){d=d||{};var e=z("addClass",a,D(b,"-add"),d.from);return e?(m(a,c),e):(i(),void c())},beforeRemoveClass:function(a,b,c,d){d=d||{};var e=z("removeClass",a,D(b,"-remove"),d.from);return e?(m(a,c),e):(i(),void c())},setClass:function(a,b,c,d,e){e=e||{},c=D(c,"-remove"),b=D(b,"-add");var f=c+" "+b;return A("setClass",a,f,d,e.to)},addClass:function(a,b,c,d){return d=d||{},A("addClass",a,D(b,"-add"),c,d.to)},removeClass:function(a,b,c,d){return d=d||{},A("removeClass",a,D(b,"-remove"),c,d.to)}}}])}])}(window,window.angular),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.angularStripe=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(c){"use strict";b.exports=("undefined"!=typeof window?window.angular:"undefined"!=typeof c?c.angular:null).module("angular-stripe",[]).provider("stripe",a("./provider")).name}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./provider":2}],2:[function(a,b){(function(c){"use strict";var d="undefined"!=typeof window?window.Stripe:"undefined"!=typeof c?c.Stripe:null;b.exports=function(){this.setPublishableKey=d.setPublishableKey,this.$get=a("./service")}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./service":3}],3:[function(a,b){(function(a){"use strict";var c="undefined"!=typeof window?window.angular:"undefined"!=typeof a?a.angular:null,d="undefined"!=typeof window?window.Stripe:"undefined"!=typeof a?a.Stripe:null;b.exports=function(a){function b(b,d){return function(e,f){if("function"==typeof f)throw new Error('"params" cannot be a function');return a(function(a,g){b[d](e,f,function(b,d){return d.error?g(c.extend(new Error,d.error)):a(d)})})}}function e(a,e){var f={setPublishableKey:d.setPublishableKey};return c.forEach(e,function(a,e){var g=f[e]={};e=d[e],c.forEach(a.promisify,function(a){g[a]=b(e,a)}),c.forEach(a.reference,function(a){g[a]=e[a]})}),f}return e(d,{card:{reference:["validateCardNumber","validateExpiry","validateCVC","cardType"],promisify:["createToken"]},bankAccount:{reference:["validateRoutingNumber","validateAccountNumber"],promisify:["createToken"]}})},b.exports.$inject=["$q"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(a,b){"use strict";function c(a,c,e){d.directive(a,["$parse","$swipe",function(d,f){var g=75,h=.3,i=30;return function(j,k,l){function m(a){if(!n)return!1;var b=Math.abs(a.y-n.y),d=(a.x-n.x)*c;return o&&g>b&&d>0&&d>i&&h>b/d}var n,o,p=d(l[a]),q=["touch"];b.isDefined(l.ngSwipeDisableMouse)||q.push("mouse"),f.bind(k,{start:function(a){n=a,o=!0},cancel:function(){o=!1},end:function(a,b){m(a)&&j.$apply(function(){k.triggerHandler(e),p(j,{$event:b})})}},q)}}])}var d=b.module("ngTouch",[]);d.factory("$swipe",[function(){function a(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function c(a,c){var d=[];return b.forEach(a,function(a){var b=e[a][c];b&&d.push(b)}),d.join(" ")}var d=10,e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(b,e,f){var g,h,i,j,k=!1;f=f||["mouse","touch"],b.on(c(f,"start"),function(b){i=a(b),k=!0,g=0,h=0,j=i,e.start&&e.start(i,b)});var l=c(f,"cancel");l&&b.on(l,function(a){k=!1,e.cancel&&e.cancel(a)}),b.on(c(f,"move"),function(b){if(k&&i){var c=a(b);if(g+=Math.abs(c.x-j.x),h+=Math.abs(c.y-j.y),j=c,!(d>g&&d>h))return h>g?(k=!1,void(e.cancel&&e.cancel(b))):(b.preventDefault(),void(e.move&&e.move(c,b)))}}),b.on(c(f,"end"),function(b){k&&(k=!1,e.end&&e.end(a(b),b))})}}}]),d.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),d.directive("ngClick",["$parse","$timeout","$rootElement",function(a,c,d){function e(a,b,c,d){return Math.abs(a-c)<p&&Math.abs(b-d)<p}function f(a,b,c){for(var d=0;d<a.length;d+=2)if(e(a[d],a[d+1],b,c))return a.splice(d,d+2),!0;return!1}function g(a){if(!(Date.now()-j>o)){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,d=b[0].clientY;1>c&&1>d||l&&l[0]===c&&l[1]===d||(l&&(l=null),"label"===a.target.tagName.toLowerCase()&&(l=[c,d]),f(k,c,d)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur()))
}}function h(a){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,e=b[0].clientY;k.push(d,e),c(function(){for(var a=0;a<k.length;a+=2)if(k[a]==d&&k[a+1]==e)return void k.splice(a,a+2)},o,!1)}function i(a,b){k||(d[0].addEventListener("click",g,!0),d[0].addEventListener("touchstart",h,!0),k=[]),j=Date.now(),f(k,a,b)}var j,k,l,m=750,n=12,o=2500,p=25,q="ng-click-active";return function(c,d,e){function f(){o=!1,d.removeClass(q)}var g,h,j,k,l=a(e.ngClick),o=!1;d.on("touchstart",function(a){o=!0,g=a.target?a.target:a.srcElement,3==g.nodeType&&(g=g.parentNode),d.addClass(q),h=Date.now();var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].originalEvent||b[0];j=c.clientX,k=c.clientY}),d.on("touchmove",function(){f()}),d.on("touchcancel",function(){f()}),d.on("touchend",function(a){var c=Date.now()-h,l=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],p=l[0].originalEvent||l[0],q=p.clientX,r=p.clientY,s=Math.sqrt(Math.pow(q-j,2)+Math.pow(r-k,2));o&&m>c&&n>s&&(i(q,r),g&&g.blur(),b.isDefined(e.disabled)&&e.disabled!==!1||d.triggerHandler("click",[a])),f()}),d.onclick=function(){},d.on("click",function(a,b){c.$apply(function(){l(c,{$event:b||a})})}),d.on("mousedown",function(){d.addClass(q)}),d.on("mousemove mouseup",function(){d.removeClass(q)})}}]),c("ngSwipeLeft",-1,"swipeleft"),c("ngSwipeRight",1,"swiperight")}(window,window.angular),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.angularCreditCards=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var f="undefined"!=typeof window?window.angular:"undefined"!=typeof d?d.angular:null,g=e(f),h=a("creditcards"),i=e(h),j=a("./number"),k=e(j),l=a("./expiration"),m=e(l),n=a("./cvc"),o=e(n);c["default"]=g["default"].module("credit-cards",[]).value("creditcards",i["default"]).directive("ccNumber",k["default"]).directive("ccExp",m["default"]).directive("ccExpMonth",l.ccExpMonth).directive("ccExpYear",l.ccExpYear).directive("ccCvc",o["default"]).name,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./cvc":14,"./expiration":15,"./number":16,creditcards:13}],2:[function(a,b,c){function d(a,b){return function(){var c=[].slice.call(arguments),d=a.slice();return d.push.apply(d,c),b.apply(this,d)}}function e(a,b){return function(){var c=[].slice.call(arguments);return c.push.apply(c,a),b.apply(this,c)}}function f(a,b,c){return function(){return c.apply(this,a.concat.apply(a,arguments).concat(b))}}function g(a){var b=[].slice.call(arguments,1);return d(b,a)}function h(a){var b=[].slice.call(arguments,1);return e(b,a)}function i(a){return g(g,a)}c=b.exports=d,c.pa=e,c.apa=f,c.partial=g,c.partialRight=h,c.curry=i,c.curryRight=function(a){return g(h,a)}},{}],3:[function(a,b){var c=a("sentence-case");b.exports=function(a){return c(a).replace(/\./g,"_").replace(/ (\w)/g,function(a,b){return b.toUpperCase()})}},{"sentence-case":4}],4:[function(a,b){b.exports=function(a){return String(a).replace(/([a-z])([A-Z0-9])/g,"$1 $2").replace(/[^a-zA-Z0-9]+/g,".").replace(/(?!\d\.\d)(^|.)\./g,"$1 ").replace(/^ | $/g,"").toLowerCase()}},{}],5:[function(a,b){function c(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a}b.exports=c},{}],6:[function(a,b,c){"use strict";c.types=a("./types")},{"./types":8}],7:[function(a,b){"use strict";function c(a,b){e(this,{name:a},b)}function d(a){return a}var e=a("xtend/mutable");c.prototype.cvcLength=3,c.prototype.luhn=!0,c.prototype.groupPattern=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/,c.prototype.group=function(a){return(a.match(this.groupPattern)||[]).slice(1).filter(d)},c.prototype.test=function(a,b){return this[b?"eagerPattern":"pattern"].test(a)},b.exports=c},{"xtend/mutable":5}],8:[function(a,b,c){"use strict";var d=a("./type"),e=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/;c.visa=new d("Visa",{pattern:/^4\d{12}(\d{3})?$/,eagerPattern:/^4/}),c.maestro=new d("Maestro",{pattern:/^(?:5[0678]\d\d|6304|6390|67\d\d)\d{8,15}$/,eagerPattern:/^(5(018|0[23]|[68])|6[37])/,groupPattern:e}),c.forbrugsforeningen=new d("Forbrugsforeningen",{pattern:/^600722\d{10}$/,eagerPattern:/^600/}),c.dankort=new d("Dankort",{pattern:/^5019\d{12}$/,eagerPattern:/^5019/}),c.masterCard=new d("MasterCard",{pattern:/^5[1-5]\d{14}$/,eagerPattern:/^5[1-5]/}),c.americanExpress=new d("American Express",{pattern:/^3[47]\d{13}$/,eagerPattern:/^3[47]/,groupPattern:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,cvcLength:4}),c.dinersClub=new d("Diners Club",{pattern:/^3(0[0-5]|[68]\d)\d{11}$/,eagerPattern:/^3(0|[68])/,groupPattern:/(\d{1,4})?(\d{1,6})?(\d{1,4})?/}),c.discover=new d("Discover",{pattern:/^6(011|[45]\d{2})\d{12}$/,eagerPattern:/^6([45]|01)/}),c.jcb=new d("JCB",{pattern:/^35\d{14}$/,eagerPattern:/^35/}),c.unionPay=new d("UnionPay",{pattern:/^62[0-5]\d{13,16}$/,eagerPattern:/^62/,groupPattern:e,luhn:!1})},{"./type":7}],9:[function(a,b){"use strict";b.exports=function(a){return function(b){if(!b)return!1;for(var c,d=b.length,e=1,f=0;d;)c=parseInt(b.charAt(--d),10),f+=(e^=1)?a[c]:c;return f&&f%10===0}}([0,2,4,6,8,1,3,5,7,9])},{}],10:[function(a,b,c){"use strict";function d(a,b){for(var d in c.types){var e=c.types[d];if(e.test(a,b))return c.types[d]}}var e=a("camel-case"),f=a("fast-luhn");c.types=a("creditcards-types").types,c.parse=function(a){return"string"!=typeof a?"":a.replace(/[^\d]/g,"")},c.format=function(a,b){var c=d(a,!0);return c?c.group(a).join(b||" "):a},c.type=function(a,b){var c=d(a,b);return c?c.name:void 0},c.luhn=f,c.isValid=function(a,b){return b||(b=c.type(a)),b=c.types[e(b)],b?(!b.luhn||f(a))&&b.test(a):!1}},{"camel-case":3,"creditcards-types":6,"fast-luhn":9}],11:[function(a,b,c){"use strict";var d=a("camel-case"),e=a("./card"),f=/^\d{3,4}$/;c.isValid=function(a,b){return"string"!=typeof a?!1:f.test(a)?b?e.types[d(b)].cvcLength===a.length:!0:!1}},{"./card":10,"camel-case":3}],12:[function(a,b,c){"use strict";function d(a){return a>=10?a:"0"+a}c.isPast=function(a,b){return Date.now()>=new Date(b,a)},c.month={parse:function(a){return~~a||void 0},isValid:function(a){return"number"!=typeof a?!1:a>=1&&12>=a}};var e=(new Date).getFullYear().toString().substr(0,2);c.year={parse:function(a,b){return a=~~a,b?~~(e+d(a)):a||void 0},format:function(a,b){return a=a.toString(),b?a.substr(2,4):a},isValid:function(a){return"number"!=typeof a?!1:a>0},isPast:function(a){return(new Date).getFullYear()>a}}},{}],13:[function(a,b,c){"use strict";var d=c.card=a("./card"),e=c.cvc=a("./cvc"),f=c.expiration=a("./expiration");c.validate=function(a){return{card:{type:d.type(a.number),number:a.number,expirationMonth:a.expirationMonth,expirationYear:a.expirationYear,cvc:a.cvc},validCardNumber:d.luhn(a.number),validExpirationMonth:f.month.isValid(a.expirationMonth),validExpirationYear:f.year.isValid(a.expirationYear),validCvc:e.isValid(a.cvc),expired:f.isPast(a.expirationMonth,a.expirationYear)}}},{"./card":10,"./cvc":11,"./expiration":12}],14:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a){return{restrict:"A",require:"ngModel",compile:function(b,c){return c.$set("maxlength",4),c.$set("pattern","[0-9]*"),c.$set("xAutocompletetype","cc-csc"),function(b,c,d,e){e.$validators.ccCvc=function(c){return i.cvc.isValid(c,a(d.ccType)(b))},d.ccType&&b.$watch(d.ccType,h["default"].bind(e,e.$validate))}}}}Object.defineProperty(c,"__esModule",{value:!0});var g="undefined"!=typeof window?window.angular:"undefined"!=typeof d?d.angular:null,h=e(g),i=a("creditcards");c["default"]=f,f.$inject=["$parse"],b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{creditcards:13}],15:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(){return{restrict:"AE",require:"ccExp",controller:g,link:function(a,b,c,d){d.$watch()}}}function g(a,b){function c(a){var c=a.month,d=a.year,f=!!c&&!!d&&!p(c,d);e.$setValidity("ccExp",f,b)}var d={$setValidity:k["default"].noop},e=b.inheritedData("$formController")||d,f={year:{},month:{}};this.setMonth=function(a){f.month=a},this.setYear=function(a){f.year=a},this.$watch=function(){a.$watch(function(){return{month:f.month.$modelValue,year:f.year.$modelValue}},c,!0)}}function h(){return{restrict:"A",require:["ngModel","^?ccExp"],compile:function(a,b){return b.$set("maxlength",2),b.$set("pattern","[0-9]*"),b.$set("xAutocompletetype","cc-exp-month"),function(a,b,c,d){var f=e(d,2),g=f[0],h=f[1];h=h||q,h.setMonth(g),g.$parsers.unshift(n.parse),g.$validators.ccExpMonth=n.isValid}}}}function i(){return{restrict:"A",require:["ngModel","^?ccExp"],compile:function(a,b){var c=void 0!==b.fullYear;return b.$set("maxlength",c?4:2),b.$set("pattern","[0-9]*"),b.$set("xAutocompletetype","cc-exp-year"),function(a,b,d,f){var g=e(f,2),h=g[0],i=g[1];i=i||q,i.setYear(h),h.$parsers.unshift(m.partialRight(o.parse,!c)),h.$formatters.unshift(function(a){return a?o.format(a,!c):""}),h.$validators.ccExpYear=function(a){return o.isValid(a)&&!o.isPast(a)}}}}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f,c.ccExpMonth=h,c.ccExpYear=i;var j="undefined"!=typeof window?window.angular:"undefined"!=typeof b?b.angular:null,k=d(j),l=a("creditcards"),m=a("ap"),n=l.expiration.month,o=l.expiration.year,p=l.expiration.isPast;g.$inject=["$scope","$element"];var q={setMonth:k["default"].noop,setYear:k["default"].noop}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{ap:2,creditcards:13}],16:[function(a,b,c){"use strict";function d(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function e(a){return{restrict:"A",require:["ngModel","ccNumber"],controller:function(){this.type=null,this.eagerType=null},compile:function(b,c){return c.$set("pattern","[0-9]*"),c.$set("xAutocompletetype","cc-number"),function(b,c,e,g){function h(){return j.$viewValue}var i=d(g,2),j=i[0],k=i[1];b.$watch(e.ngModel,function(a){j.$ccType=k.type=f.card.type(a)}),"undefined"!=typeof e.ccEagerType&&b.$watch(h,function(a){a&&(a=f.card.parse(a),j.$ccEagerType=k.eagerType=f.card.type(a,!0))}),e.ccType&&b.$watch(e.ccType,function(){j.$validate()}),"undefined"!=typeof e.ccFormat&&b.$watch(h,function(a){if(a){var b=c[0],d=f.card.format(f.card.parse(a));j.$setViewValue(d);var e=b.selectionEnd;j.$render(),d&&!d.charAt(e-1).trim()&&e++,b.setSelectionRange(e,e)}}),j.$parsers.unshift(f.card.parse),j.$validators.ccNumber=function(a){return f.card.isValid(a)},j.$validators.ccNumberType=function(c){return f.card.isValid(c,a(e.ccType)(b))}}}}}Object.defineProperty(c,"__esModule",{value:!0});var f=a("creditcards");c["default"]=e,e.$inject=["$parse"],b.exports=c["default"]},{creditcards:13}]},{},[1])(1)}),function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o=0,p={},q=[],r=0,s={},t=[],u=null,v=new Image,w=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,x=/[^\.]\.(swf)\s*$/i,y=1,z=0,A="",B=!1,C=a.extend(a("<div/>")[0],{prop:0}),D=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,E=function(){c.hide(),v.onerror=v.onload=null,u&&u.abort(),b.empty()},F=function(){return!1===p.onError(q,o,p)?(c.hide(),void(B=!1)):(p.titleShow=!1,p.width="auto",p.height="auto",b.html('<p id="fbplus-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void H())},G=function(){var d,e,f,h,i,j,k=q[o];if(E(),p=a.extend({},a.fn.fancyboxPlus.defaults,"undefined"==typeof a(k).data("fancyboxPlus")?p:a(k).data("fancyboxPlus")),j=p.onStart(q,o,p),j===!1)return void(B=!1);if("object"==typeof j&&(p=a.extend(p,j)),f=p.title||(k.nodeName?a(k).attr("title"):k.title)||"",k.nodeName&&!p.orig&&(p.orig=a(k).children("img:first").length?a(k).children("img:first"):a(k)),""===f&&p.orig&&p.titleFromAlt&&(f=p.orig.attr("alt")),d=p.href||(k.nodeName?a(k).attr("href"):k.href)||null,(/^(?:javascript)/i.test(d)||"#"==d)&&(d=null),p.type?(e=p.type,d||(d=p.content)):p.content?e="html":d&&(e=d.match(w)?"image":d.match(x)?"swf":a(k).hasClass("iframe")?"iframe":0===d.indexOf("#")?"inline":"ajax"),!e)return void F();switch("inline"==e&&(k=d.substr(d.indexOf("#")),e=a(k).length>0?"inline":"ajax"),p.type=e,p.href=d,p.title=f,p.autoDimensions&&("html"==p.type||"inline"==p.type||"ajax"==p.type?(p.width="auto",p.height="auto"):p.autoDimensions=!1),p.modal&&(p.overlayShow=!0,p.hideOnOverlayClick=!1,p.hideOnContentClick=!1,p.enableEscapeButton=!1,p.showCloseButton=!1),p.padding=parseInt(p.padding,10),p.margin=parseInt(p.margin,10),b.css("padding",p.padding+p.margin),a(".fbplus-inline-tmp").unbind("fbplus-cancel").bind("fbplus-change",function(){a(this).replaceWith(g.children())}),e){case"html":b.html(p.content),H();break;case"inline":if(a(k).parent().is("#fbplus-content")===!0)return void(B=!1);a('<div class="fbplus-inline-tmp" />').hide().insertBefore(a(k)).bind("fbplus-cleanup",function(){a(this).replaceWith(g.children())}).bind("fbplus-cancel",function(){a(this).replaceWith(b.children())}),a(k).appendTo(b),H();break;case"image":B=!1,a.fancyboxPlus.showActivity(),v=new Image,v.onerror=function(){F()},v.onload=function(){B=!0,v.onerror=v.onload=null,I()},v.src=d;break;case"swf":p.scrolling="no",h='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+p.width+'" height="'+p.height+'"><param name="movie" value="'+d+'"></param>',i="",a.each(p.swf,function(a,b){h+='<param name="'+a+'" value="'+b+'"></param>',i+=" "+a+'="'+b+'"'}),h+='<embed src="'+d+'" type="application/x-shockwave-flash" width="'+p.width+'" height="'+p.height+'"'+i+"></embed></object>",b.html(h),H();break;case"ajax":B=!1,a.fancyboxPlus.showActivity(),p.ajax.win=p.ajax.success,u=a.ajax(a.extend({},p.ajax,{url:d,data:p.ajax.data||{},error:function(a){a.status>0&&F()},success:function(a,e,f){var g="object"==typeof f?f:u;if(200==g.status){if("function"==typeof p.ajax.win){if(j=p.ajax.win(d,a,e,f),j===!1)return void c.hide();("string"==typeof j||"object"==typeof j)&&(a=j)}b.html(a),H()}}}));break;case"iframe":J()}},H=function(){var c=p.width,d=p.height;c=c.toString().indexOf("%")>-1?parseInt((a(window).width()-2*p.margin)*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px",d=d.toString().indexOf("%")>-1?parseInt((a(window).height()-2*p.margin)*parseFloat(d)/100,10)+"px":"auto"==d?"auto":d+"px",b.wrapInner('<div style="width:'+c+";height:"+d+";overflow: "+("auto"==p.scrolling?"auto":"yes"==p.scrolling?"scroll":"hidden")+';position:relative;"></div>'),p.width=b.width(),p.height=b.height(),J()},I=function(){p.width=v.width,p.height=v.height,a("<img />").attr({id:"fbplus-img",src:v.src,alt:p.title}).appendTo(b),J()},J=function(){var f,l;return c.hide(),e.is(":visible")&&!1===s.onCleanup(t,r,s)?(a.event.trigger("fbplus-cancel"),void(B=!1)):(B=!0,a(g.add(d)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),e.is(":visible")&&"outside"!==s.titlePosition&&e.css("height",e.height()),t=q,r=o,s=p,s.overlayShow?(d.css({"background-color":s.overlayColor,opacity:s.overlayOpacity,cursor:s.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),d.is(":visible")||(D&&a("select:not(#fbplus-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fbplus-cleanup",function(){this.style.visibility="inherit"}),d.show())):d.hide(),n=R(),L(),e.is(":visible")?(a(h.add(j).add(k)).hide(),f=e.position(),m={top:f.top,left:f.left,width:e.width(),height:e.height()},l=m.width==n.width&&m.height==n.height,void g.fadeTo(s.changeFade,.3,function(){var c=function(){g.html(b.contents()).fadeTo(s.changeFade,1,N)};a.event.trigger("fbplus-change"),g.empty().removeAttr("filter").css({"border-width":s.padding,width:n.width-2*s.padding,height:p.autoDimensions?"auto":n.height-z-2*s.padding}),l?c():(C.prop=0,a(C).animate({prop:1},{duration:s.changeSpeed,easing:s.easingChange,step:P,complete:c}))})):(e.removeAttr("style"),g.css("border-width",s.padding),"elastic"==s.transitionIn?(m=T(),g.html(b.contents()),e.show(),s.opacity&&(n.opacity=0),C.prop=0,void a(C).animate({prop:1},{duration:s.speedIn,easing:s.easingIn,step:P,complete:N})):("inside"==s.titlePosition&&z>0&&i.show(),g.css({width:n.width-2*s.padding,height:p.autoDimensions?"auto":n.height-z-2*s.padding}).html(b.contents()),void e.css(n).fadeIn("none"==s.transitionIn?0:s.speedIn,N))))},K=function(a){return a&&a.length?"float"==s.titlePosition?'<table id="fbplus-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fbplus-title-float-left"></td><td id="fbplus-title-float-main">'+a+'</td><td id="fbplus-title-float-right"></td></tr></table>':'<div id="fbplus-title-'+s.titlePosition+'">'+a+"</div>":!1},L=function(){if(A=s.title||"",z=0,i.empty().removeAttr("style").removeClass(),s.titleShow===!1)return void i.hide();if(A=a.isFunction(s.titleFormat)?s.titleFormat(A,t,r,s):K(A),!A||""===A)return void i.hide();switch(i.addClass("fbplus-title-"+s.titlePosition).html(A).appendTo("body").show(),s.titlePosition){case"inside":i.css({width:n.width-2*s.padding,marginLeft:s.padding,marginRight:s.padding}),z=i.outerHeight(!0),i.appendTo(f),n.height+=z;break;case"over":i.css({marginLeft:s.padding,width:n.width-2*s.padding,bottom:s.padding}).appendTo(f);break;case"float":i.css("left",-1*parseInt((i.width()-n.width-40)/2,10)).appendTo(e);break;default:i.css({width:n.width-2*s.padding,paddingLeft:s.padding,paddingRight:s.padding}).appendTo(e)}i.hide()},M=function(){return(s.enableEscapeButton||s.enableKeyboardNav)&&a(document).bind("keydown.fb",function(b){27==b.keyCode&&s.enableEscapeButton?(b.preventDefault(),a.fancyboxPlus.close()):37!=b.keyCode&&39!=b.keyCode||!s.enableKeyboardNav||"INPUT"===b.target.tagName||"TEXTAREA"===b.target.tagName||"SELECT"===b.target.tagName||(b.preventDefault(),a.fancyboxPlus[37==b.keyCode?"prev":"next"]())}),s.showNavArrows?((s.cyclic&&t.length>1||0!==r)&&j.show(),void((s.cyclic&&t.length>1||r!=t.length-1)&&k.show())):(j.hide(),void k.hide())},N=function(){a.support.opacity||(a("#fancybox-content").css("filter",0),a("#fancybox-wrap").css("filter",0)),p.autoDimensions&&g.css("height","auto"),e.css("height","auto"),A&&A.length&&i.show(),s.showCloseButton&&h.show(),M(),s.hideOnContentClick&&g.bind("click",a.fancyboxPlus.close),s.hideOnOverlayClick&&d.bind("click",a.fancyboxPlus.close),a(window).bind("resize.fb",a.fancyboxPlus.resize),s.centerOnScroll&&a(window).bind("scroll.fb",a.fancyboxPlus.center),"iframe"==s.type&&a('<iframe id="fbplus-frame" name="fbplus-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+p.scrolling+'" src="'+s.href+'"></iframe>').appendTo(g),e.show(),B=!1,a.fancyboxPlus.center(),s.onComplete(t,r,s),O()},O=function(){var a,b;t.length-1>r&&(a=t[r+1].href,"undefined"!=typeof a&&a.match(w)&&(b=new Image,b.src=a)),r>0&&(a=t[r-1].href,"undefined"!=typeof a&&a.match(w)&&(b=new Image,b.src=a))},P=function(a){var b={width:parseInt(m.width+(n.width-m.width)*a,10),height:parseInt(m.height+(n.height-m.height)*a,10),top:parseInt(m.top+(n.top-m.top)*a,10),left:parseInt(m.left+(n.left-m.left)*a,10)};"undefined"!=typeof n.opacity&&(b.opacity=.5>a?.5:a),e.css(b),g.css({width:b.width-2*s.padding,height:b.height-z*a-2*s.padding})},Q=function(){return[a(window).width()-2*s.margin,a(window).height()-2*s.margin,a(document).scrollLeft()+s.margin,a(document).scrollTop()+s.margin]},R=function(){var a,b=Q(),c={},d=s.autoScale,e=2*s.padding;return c.width=s.width.toString().indexOf("%")>-1?parseInt(b[0]*parseFloat(s.width)/100,10):s.width+e,c.height=s.height.toString().indexOf("%")>-1?parseInt(b[1]*parseFloat(s.height)/100,10):s.height+e,d&&(c.width>b[0]||c.height>b[1])&&("image"==p.type||"swf"==p.type?(a=s.width/s.height,c.width>b[0]&&(c.width=b[0],c.height=parseInt((c.width-e)/a+e,10)),c.height>b[1]&&(c.height=b[1],c.width=parseInt((c.height-e)*a+e,10))):(c.width=Math.min(c.width,b[0]),c.height=Math.min(c.height,b[1]))),c.top=parseInt(Math.max(b[3]-20,b[3]+.5*(b[1]-c.height-40)),10),c.left=parseInt(Math.max(b[2]-20,b[2]+.5*(b[0]-c.width-40)),10),c},S=function(a){var b=a.offset();return b.top+=parseInt(a.css("paddingTop"),10)||0,b.left+=parseInt(a.css("paddingLeft"),10)||0,b.top+=parseInt(a.css("border-top-width"),10)||0,b.left+=parseInt(a.css("border-left-width"),10)||0,b.width=a.width(),b.height=a.height(),b},T=function(){var b,c,d=p.orig?a(p.orig):!1,e={};return d&&d.length?(b=S(d),e={width:b.width+2*s.padding,height:b.height+2*s.padding,top:b.top-s.padding-20,left:b.left-s.padding-20}):(c=Q(),e={width:2*s.padding,height:2*s.padding,top:parseInt(c[3]+.5*c[1],10),left:parseInt(c[2]+.5*c[0],10)}),e},U=function(){return c.is(":visible")?(a("div",c).css("top",-40*y+"px"),void(y=(y+1)%12)):void clearInterval(l)};a.fn.fancyboxPlus=function(b){return a(this).length?(a(this).data("fancyboxPlus",a.extend({},b,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){if(b.preventDefault(),!B){B=!0,a(this).blur(),q=[],o=0;var c=a(this).attr("rel")||"";c&&""!=c&&"nofollow"!==c?(q=a("a[rel="+c+"], area[rel="+c+"]"),o=q.index(this)):q.push(this),G()}}),this):this},a.fancyboxPlus=function(b){var c;if(!B){if(B=!0,c="undefined"!=typeof arguments[1]?arguments[1]:{},q=[],o=parseInt(c.index,10)||0,a.isArray(b)){for(var d=0,e=b.length;e>d;d++)"object"==typeof b[d]?a(b[d]).data("fancyboxPlus",a.extend({},c,b[d])):b[d]=a({}).data("fancyboxPlus",a.extend({content:b[d]},c));q=jQuery.merge(q,b)}else"object"==typeof b?a(b).data("fancyboxPlus",a.extend({},c,b)):b=a({}).data("fancyboxPlus",a.extend({content:b},c)),q.push(b);(o>q.length||0>o)&&(o=0),G()}},a.fancyboxPlus.showActivity=function(){clearInterval(l),c.show(),l=setInterval(U,66)},a.fancyboxPlus.hideActivity=function(){c.hide()},a.fancyboxPlus.next=function(){return a.fancyboxPlus.pos(r+1)},a.fancyboxPlus.prev=function(){return a.fancyboxPlus.pos(r-1)},a.fancyboxPlus.pos=function(a){B||(a=parseInt(a),q=t,a>-1&&a<t.length?(o=a,G()):s.cyclic&&t.length>1&&(o=a>=t.length?0:t.length-1,G()))},a.fancyboxPlus.cancel=function(){B||(B=!0,a.event.trigger("fbplus-cancel"),E(),p.onCancel(q,o,p),B=!1)},a.fancyboxPlus.close=function(){function b(){d.fadeOut("fast"),i.empty().hide(),e.hide(),a.event.trigger("fbplus-cleanup"),g.empty(),s.onClosed(t,r,s),t=p=[],r=o=0,s=p={},B=!1}if(!B&&!e.is(":hidden")){if(B=!0,s&&!1===s.onCleanup(t,r,s))return void(B=!1);if(E(),a(h.add(j).add(k)).hide(),a(g.add(d)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),g.find("iframe").attr("src",D&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==s.titlePosition&&i.empty(),e.stop(),"elastic"==s.transitionOut){m=T();var c=e.position();n={top:c.top,left:c.left,width:e.width(),height:e.height()},s.opacity&&(n.opacity=1),i.empty().hide(),C.prop=1,a(C).animate({prop:0},{duration:s.speedOut,easing:s.easingOut,step:P,complete:b})}else e.fadeOut("none"==s.transitionOut?0:s.speedOut,b)}},a.fancyboxPlus.resize=function(){d.is(":visible")&&d.css("height",a(document).height()),a.fancyboxPlus.center(!0)},a.fancyboxPlus.center=function(){var a,b;B||(b=arguments[0]===!0?1:0,a=Q(),(b||!(e.width()>a[0]||e.height()>a[1]))&&e.stop().animate({top:parseInt(Math.max(a[3]-20,a[3]+.5*(a[1]-g.height()-40)-s.padding)),left:parseInt(Math.max(a[2]-20,a[2]+.5*(a[0]-g.width()-40)-s.padding))},"number"==typeof arguments[0]?arguments[0]:200))},a.fancyboxPlus.init=function(){a("#fbplus-wrap").length||(a("body").append(b=a('<div id="fbplus-tmp"></div>'),c=a('<div id="fbplus-loading"><div></div></div>'),d=a('<div id="fbplus-overlay"></div>'),e=a('<div id="fbplus-wrap"></div>')),f=a('<div id="fbplus-outer"></div>').append('<div class="fbplus-bg" id="fbplus-bg-n"></div><div class="fbplus-bg" id="fbplus-bg-ne"></div><div class="fbplus-bg" id="fbplus-bg-e"></div><div class="fbplus-bg" id="fbplus-bg-se"></div><div class="fbplus-bg" id="fbplus-bg-s"></div><div class="fbplus-bg" id="fbplus-bg-sw"></div><div class="fbplus-bg" id="fbplus-bg-w"></div><div class="fbplus-bg" id="fbplus-bg-nw"></div>').appendTo(e),f.append(g=a('<div id="fbplus-content"></div>'),h=a('<a id="fbplus-close"></a>'),i=a('<div id="fbplus-title"></div>'),j=a('<a href="javascript:;" id="fbplus-left"><span class="fancy-ico" id="fbplus-left-ico"></span></a>'),k=a('<a href="javascript:;" id="fbplus-right"><span class="fancy-ico" id="fbplus-right-ico"></span></a>')),h.click(a.fancyboxPlus.close),c.click(a.fancyboxPlus.cancel),j.click(function(b){b.preventDefault(),a.fancyboxPlus.prev()}),k.click(function(b){b.preventDefault(),a.fancyboxPlus.next()}),a.fn.mousewheel&&e.bind("mousewheel.fb",function(b,c){B?b.preventDefault():(0==a(b.target).get(0).clientHeight||a(b.target).get(0).scrollHeight===a(b.target).get(0).clientHeight)&&(b.preventDefault(),a.fancyboxPlus[c>0?"prev":"next"]())}),a.support.opacity||e.addClass("fbplus-ie"),D&&(c.addClass("fbplus-ie6"),e.addClass("fbplus-ie6"),a('<iframe id="fbplus-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(f)))},a.fn.fancyboxPlus.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},a(document).ready(function(){a.fancyboxPlus.init()})}(jQuery),function(){"use strict";function a(){function a(){return $.fancyboxPlus}function b(){a().showActivity()}function c(){a().hideActivity()}function d(){a().pos()}function e(){a().cancel()}function f(){a().center()}function g(){a().next()}function h(){a().prev()}function i(){a().close()}function j(){a().resize()}var k={fancyboxPlus:a,showActivity:b,hideActivity:c,next:g,prev:h,pos:d,cancel:e,close:i,resize:j,center:f};return k}function b(a,b,c,d,e){function f(c,f,g){function h(a){var b={href:g.src?g.src:g.href,onComplete:function(){i()}};if(g.fancyboxable&&g.fancyboxable.length>0){var h=d(g.fancyboxable),k=h(c);angular.extend(b,k)}for(var l in b)b.hasOwnProperty(l)&&"undefined"==typeof b[l]&&delete b[l];"undefined"!=typeof a&&(b.open=a),e(function(){g.ngSrc?e(function(){b.href=g.src?g.src:g.href,j=$(f).fancyboxPlus(b)},300):j=$(f).fancyboxPlus(b)},0)}function i(){b.$apply(function(){var c=$("#fbplus-content");a(c)(b)})}var j=null;c.$on("$destroy",function(){f.remove()}),h()}var g={restrict:"A",link:f,priority:100};return g}function c(a,b,c,d,e,f){function g(){}function h(c,d,g){function h(a){a?i(a):f.close()}function i(a){var b={href:g.src,boxFor:g.boxFor,onOpen:function(){c.onOpen&&c.onOpen()&&c.onOpen()()},onCancel:function(){c.onCancel&&c.onCancel()&&c.onCancel()()},onComplete:function(){j(),c.onComplete&&c.onComplete()&&c.onComplete()()},onCleanup:function(){c.onCleanup&&c.onCleanup()&&c.onCleanup()()},onClosed:function(){c.$apply(function(){c.open=!1}),c.onClosed&&c.onClosed()&&c.onClosed()()}};c.options&&angular.extend(b,c.options);for(var d in b)b.hasOwnProperty(d)&&"undefined"==typeof b[d]&&delete b[d];"undefined"!=typeof a&&(b.open=a),e(function(){b.boxFor?k=$(b.boxFor).fancyboxPlus(b):b.href&&(k=$.fancyboxPlus(b))},0)}function j(){b.$apply(function(){var c=$("#fbplus-content");a(c)(b)})}var k=null;c.$watch("open",function(a,b){b!==a&&h(a)}),c.$on("$destroy",function(){d.remove()}),i()}var i={restrict:"E",scope:{open:"=",options:"=",templateUrl:"&",onStart:"&",onCancel:"&",onComplete:"&",onCleanup:"&",onClosed:"&"},require:"fancybox",link:h,controller:g,controllerAs:"vm"};return i}angular.module("fancyboxplus",[]).service("fancyboxService",a).directive("fancyboxable",b).directive("fancybox",c),b.$inject=["$compile","$rootScope","$http","$parse","$timeout","fancyboxService"],c.$inject=["$compile","$rootScope","$http","$parse","$timeout","fancyboxService"]}(),function(){function a(a,b,c){function d(d,k){var l=k.dirPaginate,m=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),n=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===m[2].match(n))throw"pagination directive: the 'itemsPerPage' filter must be set.";var o=m[2].replace(n,""),p=b(o);g(d);var q=k.paginationId||j;return c.registerInstance(q),function(d,g,k){var m=b(k.paginationId)(d)||k.paginationId||j;c.registerInstance(m);var n=e(l,m);f(g,k,n),h(g);var o=a(g),q=i(d,k,m);c.setCurrentPageParser(m,q,d),"undefined"!=typeof k.totalItems?(c.setAsyncModeTrue(m),d.$watch(function(){return b(k.totalItems)(d)},function(a){a>=0&&c.setCollectionLength(m,a)})):(c.setAsyncModeFalse(m),d.$watchCollection(function(){return p(d)},function(a){if(a){var b=a instanceof Array?a.length:Object.keys(a).length;c.setCollectionLength(m,b)}})),o(d)}}function e(a,b){var c,d=!!a.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return c=b===j||d?a:a.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+b+"'")}function f(a,b,c){a[0].hasAttribute("dir-paginate-start")||a[0].hasAttribute("data-dir-paginate-start")?(b.$set("ngRepeatStart",c),a.eq(a.length-1).attr("ng-repeat-end",!0)):b.$set("ngRepeat",c)}function g(a){angular.forEach(a,function(a){1===a.nodeType&&angular.element(a).attr("dir-paginate-no-compile",!0)})}function h(a){angular.forEach(a,function(a){1===a.nodeType&&angular.element(a).removeAttr("dir-paginate-no-compile")}),a.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),a.eq(a.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function i(a,c,d){var e;if(c.currentPage)e=b(c.currentPage);else{var f=(d+"__currentPage").replace(/\W/g,"_");a[f]=1,e=b(f)}return e}return{terminal:!0,multiElement:!0,priority:100,compile:d}}function b(){return{priority:5e3,terminal:!0}}function c(a){a.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')
}function d(a,b){function c(b,c,e){function g(c){if(a.isRegistered(m)&&k(c)){var e=b.pagination.current;b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,i(),b.onPageChange&&b.onPageChange({newPageNumber:c,oldPageNumber:e})}}function h(){if(a.isRegistered(m)){var c=parseInt(a.getCurrentPage(m))||1;b.pages=d(c,a.getCollectionLength(m),a.getItemsPerPage(m),o),b.pagination.current=c,b.pagination.last=b.pages[b.pages.length-1],b.pagination.last<b.pagination.current?b.setCurrent(b.pagination.last):i()}}function i(){if(a.isRegistered(m)){var c=a.getCurrentPage(m),d=a.getItemsPerPage(m),e=a.getCollectionLength(m);b.range.lower=(c-1)*d+1,b.range.upper=Math.min(c*d,e),b.range.total=e}}function k(a){return f.test(a)&&a>0&&a<=b.pagination.last}var l=e.paginationId||j,m=b.paginationId||e.paginationId||j;if(!a.isRegistered(m)&&!a.isRegistered(l)){var n=m!==j?" (id: "+m+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+n+"cannot be used without the corresponding pagination directive, which was not found at link time.")}b.maxSize||(b.maxSize=9),b.autoHide=void 0===b.autoHide?!0:b.autoHide,b.directionLinks=angular.isDefined(e.directionLinks)?b.$parent.$eval(e.directionLinks):!0,b.boundaryLinks=angular.isDefined(e.boundaryLinks)?b.$parent.$eval(e.boundaryLinks):!1;var o=Math.max(b.maxSize,5);b.pages=[],b.pagination={last:1,current:1},b.range={lower:1,upper:1,total:1},b.$watch("maxSize",function(a){a&&(o=Math.max(b.maxSize,5),h())}),b.$watch(function(){return a.isRegistered(m)?(a.getCollectionLength(m)+1)*a.getItemsPerPage(m):void 0},function(a){a>0&&h()}),b.$watch(function(){return a.isRegistered(m)?a.getItemsPerPage(m):void 0},function(a,c){a!=c&&"undefined"!=typeof c&&g(b.pagination.current)}),b.$watch(function(){return a.isRegistered(m)?a.getCurrentPage(m):void 0},function(a,b){a!=b&&g(a)}),b.setCurrent=function(b){a.isRegistered(m)&&k(b)&&(b=parseInt(b,10),a.setCurrentPage(m,b))},b.tracker=function(a,b){return a+"_"+b}}function d(a,b,c,d){var f,g=[],h=Math.ceil(b/c),i=Math.ceil(d/2);f=i>=a?"start":a>h-i?"end":"middle";for(var j=h>d,k=1;h>=k&&d>=k;){var l=e(k,a,d,h),m=2===k&&("middle"===f||"end"===f),n=k===d-1&&("middle"===f||"start"===f);g.push(j&&(m||n)?"...":l),k++}return g}function e(a,b,c,d){var e=Math.ceil(c/2);return a===c?d:1===a?a:d>c?b>d-e?d-c+a:b>e?b-e+a:a:a}var f=/^\d+$/,g={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:c},h=b.getString();return void 0!==h?g.template=h:g.templateUrl=function(a,c){return c.templateUrl||b.getPath()},g}function e(a){return function(b,c,d){if("undefined"==typeof d&&(d=j),!a.isRegistered(d))throw"pagination directive: the itemsPerPage id argument (id: "+d+") does not match a registered pagination-id.";var e,g;if(angular.isObject(b)){if(c=parseInt(c)||9999999999,g=a.isAsyncMode(d)?0:(a.getCurrentPage(d)-1)*c,e=g+c,a.setItemsPerPage(d,c),b instanceof Array)return b.slice(g,e);var h={};return angular.forEach(f(b).slice(g,e),function(a){h[a]=b[a]}),h}return b}}function f(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function g(){var a,b={};this.registerInstance=function(c){"undefined"==typeof b[c]&&(b[c]={asyncMode:!1},a=c)},this.deregisterInstance=function(a){delete b[a]},this.isRegistered=function(a){return"undefined"!=typeof b[a]},this.getLastInstanceId=function(){return a},this.setCurrentPageParser=function(a,c,d){b[a].currentPageParser=c,b[a].context=d},this.setCurrentPage=function(a,c){b[a].currentPageParser.assign(b[a].context,c)},this.getCurrentPage=function(a){var c=b[a].currentPageParser;return c?c(b[a].context):1},this.setItemsPerPage=function(a,c){b[a].itemsPerPage=c},this.getItemsPerPage=function(a){return b[a].itemsPerPage},this.setCollectionLength=function(a,c){b[a].collectionLength=c},this.getCollectionLength=function(a){return b[a].collectionLength},this.setAsyncModeTrue=function(a){b[a].asyncMode=!0},this.setAsyncModeFalse=function(a){b[a].asyncMode=!1},this.isAsyncMode=function(a){return b[a].asyncMode}}function h(){var a,b="angularUtils.directives.dirPagination.template";this.setPath=function(a){b=a},this.setString=function(b){a=b},this.$get=function(){return{getPath:function(){return b},getString:function(){return a}}}}var i="angularUtils.directives.dirPagination",j="__default";angular.module(i,[]).directive("dirPaginate",["$compile","$parse","paginationService",a]).directive("dirPaginateNoCompile",b).directive("dirPaginationControls",["paginationService","paginationTemplate",d]).filter("itemsPerPage",["paginationService",e]).service("paginationService",g).provider("paginationTemplate",h).run(["$templateCache",c])}();var app=angular.module("gatku",["angularFileUpload","ipCookie","ngAnimate","angular-stripe","ngTouch","credit-cards","checklist-model","angularUtils.directives.dirPagination"]);app.config(function(a){a.setPublishableKey("production"===CONFIG.environment?"pk_live_5MrQVqT1OSrL1lyeYe54NWgs":"pk_test_iTOIZYCF15Qmpq7CYOqltHCJ")}),app.filter("money",function(){return function(a){return a/100}}),app.filter("customNumber",function(){return function(a,b){var c=(b?b:4)-a.toString().length+1;return Array(+(c>0&&c)).join("0")+a}}),app.directive("backImg",["$window",function(){return function(a,b,c){c.$observe("backImg",function(a){b.css({"background-image":"url("+a+")","background-size":"cover"})})}}]),app.directive("datepickerstartdate",function(){return{restrict:"A",require:"ngModel",link:function(a,b){b.datepicker({dateFormat:"yy-mm-dd",onSelect:function(b){a.order_start_date=b,a.$apply()}})}}}),app.directive("datepickerenddate",function(){return{restrict:"A",require:"ngModel",link:function(a,b){b.datepicker({dateFormat:"yy-mm-dd",onSelect:function(b){a.order_end_date=b,a.$apply()}})}}}),app.directive("hoverCard",["$compile","$window","Product","$filter",function(a,b,c,d){return{restrict:"E",scope:!0,link:function(e,f,g){e.product={};var h=(d("money"),angular.element(f[0])),i='<div class="hover-card"><h2>{{ product.name }}</h2><div class="hover-card-image-container" ng-class="{ \'pole\' : product.type.slug === \'pole\' }"><img ng-src="{{ product.thumb }}"></div><div class="hover-card-actions"><a ng-href="/product/'+g.slug+'" target="_blank"><div class="button success-bg">See This Product</div></a></div><div class="hover-card-price">${{ product.price | money }}</div><div class="clear"></div><div class="hover-card-carot shadowed"></div><div class="hover-card-carot"></div></div>',j=angular.element(b.document.getElementsByTagName("body")[0]),k=a(i)(e);e.productFetched=!1,e.init=function(){b.innerWidth>750&&(j.append(k),e.positionCard(),e.fetchProduct())},e.fetchProduct=function(){c.getBySlug(g.slug).success(function(a){e.product=a.data,e.productFetched=!0,e.positionCard()}).error(function(a){console.log(a.message)})},e.positionCard=function(){var a=e.getRootOffsetTop(h[0],0),b=e.getRootOffsetLeft(h[0],0),c=h[0].offsetWidth,d=k[0].offsetHeight,f=a-d/2,g=b+c;k.css({top:f+"px",left:g+"px"})},e.getRootOffsetTop=function(a,b){return null===a.offsetParent?b+a.offsetTop:e.getRootOffsetTop(a.offsetParent,b+a.offsetTop)},e.getRootOffsetLeft=function(a,b){return null===a.offsetParent?b+a.offsetLeft:e.getRootOffsetLeft(a.offsetParent,b+a.offsetLeft)},h.bind("mouseover",function(){e.productFetched||e.fetchProduct(),k.addClass("visible")}),h.bind("mouseleave",function(){k.removeClass("visible")}),k.bind("mouseover",function(){k.addClass("visible")}),k.bind("mouseleave",function(){k.removeClass("visible")}),angular.element(b).bind("resize",function(){e.positionCard()}),e.init()}}}]),app.directive("productBuyers",["Product",function(a){return{restrict:"E",scope:!1,template:'<div><p class="product-buyers-header bold" ng-show="photos.length">Others who have bought this product:</p><div class="product-buyers-container"><div class="product-buyer placeholder square" ng-hide="photos.length"></div><div class="product-buyer square" ng-repeat="photo in photos | limitTo:3" ng-style="{\'background-image\':\'url(\' + photo.image + \')\'}"><a class="grouped_elements" rel="group1" href="{{photo.image}}"><img src="{{photo.image}}" alt="" style="width: 100%;height: 100%;vertical-align: top; opacity:0;"/></a></div><div class="clear"></div></div></div>',link:function(b,c,d){function e(){a.customerPhotos(d.productId).success(function(a){b.photos=a.data,Squares.init()}).error(function(){console.log("There was a problem getting the product images")})}b.photos=[],e()}}}]),app.directive("loaded",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.loaded);c.on("load",function(a){b.$apply(function(){e(b,{$event:a})})})}}}]),app.directive("alerter",["$window","$timeout","AlertService",function(a,b,c){return{restrict:"E",template:'<div class="alert-container slide-up" ng-show="show">'+"<div ng-class=\"{'success-alert' : alertType === 'success', 'info-alert' : alertType === 'info', 'error-alert' : alertType === 'error'}\">{{ message }}</div><i class=\"fa fa-close\" ng-click=\"show = false\"></i></div>",scope:!1,link:function(a){function d(){a.message=c.message,a.show=!0,b(function(){a.show=!1},4e3)}a.message="",a.show=!1,a.alertType="success",a.$on("successAlert",function(){a.alertType="success",d()}),a.$on("infoAlert",function(){a.alertType="info",d()}),a.$on("errorAlert",function(){a.alertType="error",d()})}}}]),app.directive("hamburger",["NavigationService",function(a){return{restrict:"E",template:'<div class="hamburger" ng-click="action()" ng-class="{ \'open\' : open }"><div class="patty"></div><div class="patty"></div><div class="patty"></div></div>',link:function(b){b.open=!1,b.status="Menu",b.action=function(){b.open?a.close():a.open()},b.$on("open",function(){b.open=!0,b.status="Back"}),b.$on("close",function(){b.open=!1,b.status="Menu"})}}}]),app.directive("cartIcon",["CartService",function(a){return{restrict:"E",template:'<div class="cart-icon" ng-click="showCart()">Cart<span class="mobile-cart-indicator">{{ count }}</span></div>',link:function(b){b.count=a.count(),b.$on("update",function(){b.count=a.count()}),b.showCart=function(){a.show()}}}}]),app.directive("bodyFreeze",["CartService",function(){return{restrict:"A",link:function(a,b){a.$on("show",function(){b.addClass("frozen")}),a.$on("hide",function(){b.removeClass("frozen")})}}}]),app.directive("smoothLink",["$window","$location","NavigationService",function(a,b,c){return{restrict:"E",scope:{},template:'<a href="#" ng-click="click()">{{ text }}</a>',link:function(b,d,e){b.text=e.text,b.click=function(){{var b=angular.element(a.document.getElementById(e.destination));a.document.getElementsByTagName("body")[0]}return c.close(),$("html,body").animate({scrollTop:b[0].offsetTop},400),!1}}}}]),app.directive("shippingRequest",["$window","$compile","ShippingRequest","AlertService",function(a,b,c,d){return{restrict:"E",template:'<div class="button info-bg" shipping-request ng-click="open = !open">{{shipping.id ? "Request Sent" : "Request Shipping"}}</div>',scope:{order:"=",shipping:"="},link:function(e){function f(){h.append(i)}var g='<div class="shipping-request-panel" ng-show="open"><h2>Sending shipping request to {{ order.customer.fullName }} for order : <span class="brand">{{ order.number }}</span></h2><form><label>Amount <span class="faded bold">(in dollars)</span></label><input type="number" ng-model="price"><div class="button success-bg" ng-click="send()">Send</div></form><i class="fa fa-close" ng-click="open = false;"></i></div>',h=angular.element(a.document.getElementsByTagName("body")[0]),i=b(g)(e);e.price=0,e.open=!1,e.send=function(){var a=new Nanobar({bg:"#fff"}),b={price:100*e.price,orderId:e.order.id};a.go(60),c.send(b).success(function(b){e.order.shipping=b.data,e.open=!1,a.go(100),d.broadcast("Shipping Request Sent!","success")}).error(function(){a.go(100),d.broadcast("Sorry, there was a problem.","error")})},f()}}}]),app.directive("shippingTrack",["$window","$compile","ShippingTrack","AlertService",function(a,b,c,d){return{restrict:"E",template:'<div class="button info-bg" shipping-track ng-click="open = !open">{{ tracking.track_id ? "Edit" : "Set Tracking"}}</div>',scope:{order:"=",tracking:"="},link:function(e){function f(){h.append(i)}var g='<div class="shipping-request-panel" ng-show="open"><h2>Applying Tracking Number to {{ order.customer.fullName }} for order : <span class="brand">{{ order.number }}</span></h2><form><label>Tracking Number {{tracking.track_id ? "(Previous Tracking:" + tracking.track_id + ")": "" }}</label><input type="text" ng-model="track_id"><div class="shipping-request-model"><select ng-model="carrier"><option value="" ng-selected="true" ng-selected="true">Please Select a Carrier</option><option value="usps" label="USPS">usps.com</option><option value="auspost" label="Auspost">auspost.com.au</option><option value="packsend" label="Packsend">packsend.com.au</option><option value="ups" label="UPS">ups.com</option></select><div style="float:right" class="button success-bg" ng-click="send()">Apply</div></div> </form><i class="fa fa-close" ng-click="open = false;"></i></div>',h=angular.element(a.document.getElementsByTagName("body")[0]),i=b(g)(e);e.price=0,e.open=!1,e.send=function(){var a=new Nanobar({bg:"#fff"}),b={track_id:e.track_id,orderId:e.order.id,carrier:e.carrier};return angular.isDefined(e.tracking)&&(b.trackId=e.tracking.id),b.carrier?b.track_id?(a.go(60),void c.send(b).success(function(b){e.order.tracking=b.data,e.open=!1,i.remove(),a.go(100),d.broadcast("Tracking Number set!","success")}).error(function(){a.go(100),d.broadcast("Sorry, there was a problem.","error")})):(d.broadcast("Please input the truck id.","error"),!1):(d.broadcast("Please select carrier.","error"),!1)},f()}}}]),app.factory("AlertService",["$rootScope",function(a){var b={};return b.message="",b.broadcast=function(a,b){this.message=a,"success"==b?this.broadcastSuccessAlert():"error"==b?this.broadcastErrorAlert():("info"==b,this.broadcastInfoAlert())},b.broadcastSuccessAlert=function(){a.$broadcast("successAlert")},b.broadcastErrorAlert=function(){a.$broadcast("errorAlert")},b.broadcastInfoAlert=function(){a.$broadcast("infoAlert")},b}]),app.factory("CartService",["$rootScope","$http","ipCookie","AlertService",function(a,b,c){var d={},e=c;return d.getItems=function(){var a=e("items")||[];return a},d.addItem=function(b){var c=d.getItems(),f={};f.id=b.id,f.name=b.name,f.shortName=b.shortName,f.length=b.length,f.price=b.price,f.thumb=b.thumb,f.slug=b.slug,f.type={},f.type.shippingPrice=b.type.shippingPrice,f.type.slug=b.type.slug,f.sizeable=b.sizeable,f.sizeId=b.sizeId,f.addons=[],f.quantity=1;for(var g=0;g<b.addons.length;g++){var h=b.addons[g],i={};h.checked&&(i.id=h.product.id,i.price=h.product.price,i.name=h.product.name,i.sizeable=h.product.sizeable,i.include_in_package=h.include_in_package,i.price_zero=h.price_zero,i.type={},i.type.slug=h.product.type.slug,h.product.sizeId&&(i.sizeId=h.product.sizeId),i.quantity=1,f.addons.push(i))}c.push(f),console.log("Items added before cookie"),e("items",c,{path:"/"}),a.$broadcast("update"),a.$broadcast("itemAdded"),console.log("Items added after cookie")},d.removeItem=function(b){var c=d.getItems();return c.length?(c.splice(b,1),e("items",c,{path:"/"}),void a.$broadcast("update")):!1},d.count=function(){for(var a=d.getItems(),b=0,c=0;c<a.length;c++){"package"!=a[c].type.slug&&(b+=1*a[c].quantity);for(var e=0;e<a[c].addons.length;e++)b+=1*a[c].addons[e].quantity}return b},d.increaseItemQuantity=function(b){var c=e("items")||[];c[b].quantity++,angular.forEach(c[b].addons,function(a,d){a.include_in_package&&(c[b].addons[d].quantity=c[b].quantity)}),e("items",c,{path:"/"}),a.$broadcast("update")},d.decreaseItemQuantity=function(b){var c=e("items")||[];c[b].quantity--,angular.forEach(c[b].addons,function(a,d){a.include_in_package&&(c[b].addons[d].quantity=c[b].quantity)}),0==c[b].quantity&&c.splice(b,1),e("items",c,{path:"/"}),a.$broadcast("update")},d.increaseAddonQuantity=function(b,c){var d=e("items")||[];d[b].addons[c].quantity++,e("items",d,{path:"/"}),a.$broadcast("update")},d.decreaseAddonQuantity=function(b,c){var d=e("items")||[];d[b].addons[c].quantity--,0==d[b].addons[c].quantity&&d[b].addons.splice(c,1),e("items",d,{path:"/"}),a.$broadcast("update")},d.update=function(){a.$broadcast("update")},d.empty=function(){e.remove("items",{path:"/"}),a.$broadcast("update")},d.show=function(){a.$broadcast("show")},d.hide=function(){a.$broadcast("hide")},d.productInCart=function(a){var b=e("items")||[];if(b.length)for(var c=0;c<b.length;c++)if(b[c].id===a)return!0;return!1},d}]),app.factory("NavigationService",["$rootScope",function(a){var b={};return b.open=function(){a.$broadcast("open")},b.close=function(){a.$broadcast("close")},b}]),app.factory("StripeService",["stripe",function(a){var b={};return b.validate=function(b){return a.card.validateCardNumber(b.number)?a.card.validateExpiry(b.exp_month,b.exp_year)?a.card.validateCVC(b.cvc)?{response:!0,message:"Valid card"}:{response:!1,message:"Invalic CVC code"}:{response:!1,message:"Invalid expiration date"}:{response:!1,message:"Invalid card number"}},b.createToken=function(b){return a.card.createToken(b)},b.displayErrors=function(a){"incorrect_number"===a.code||"invalid_number"===a.code||"invalid_expiry_month"===a.code||"invalid-expiry-year"===a.code||"invalid_cvc"===a.code||"card_declined"===a.code},b}]),app.factory("Image",["$http","$upload",function(a,b){return{upload:function(a){return b.upload(a)}}}]),app.factory("AvailabilityType",["$http",function(a){return{all:function(){return a.get("/availability-type")}}}]),app.factory("Product",["$http",function(a){return{all:function(){return a.get("/product")},forPeriod:function(b,c){return a.get("/product",{params:{start_date:b,end_date:c}})},get:function(b){return a.get("/product/get/"+b)},getBySlug:function(b){return a.get("/product/by/slug/"+b)},store:function(b){return a.post("/product",b)},update:function(b,c){return a.put("/product/"+b,c)},getTypes:function(){return a.get("/product/types")},getByType:function(){return a.get("/product/by/type")},customerPhotos:function(b){return a.get("/product/photos/"+b)}}}]),app.factory("HearGoodStuff",["$http",function(a){return{store:function(b){return a.post("/hear-good-stuff",b)}}}]),app.factory("Order",["$http",function(a){return{all:function(){return a.get("/order")},store:function(b){return a.post("/order",b)}}}]),app.factory("HomeSetting",["$http",function(a){return{all:function(){return a.get("/home-setting")},save:function(b){return a.post("/home-setting",b)}}}]),app.factory("YouImage",["$http",function(a){return{all:function(){return a.get("/you-image")},save:function(b){return a.post("/you-image",b)}}}]),app.factory("Size",["$http",function(a){return{getBySlug:function(b){return a.get("/size/by/slug/"+b)}}}]),app.factory("ShippingRequest",["$http",function(a){return{send:function(b){return a.post("/shipping-request",b)},pay:function(b){return a.post("/shipping-request/pay",b)}}}]),app.factory("ShippingTrack",["$http",function(a){return{send:function(b){return a.post("/shipping-track",b)}}}]),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(a,b){function c(a,b,c){if(angular.isArray(a))for(var d=a.length;d--;)if(c(a[d],b))return!0;return!1}function d(a,b,d){return a=angular.isArray(a)?a:[],c(a,b,d)||a.push(b),a}function e(a,b,c){if(angular.isArray(a))for(var d=a.length;d--;)if(c(a[d],b)){a.splice(d,1);break}return a}function f(f,g,h){function i(a,b){var c=l(f.$parent);angular.isFunction(m)&&(b===!0?m(f.$parent,d(c,a,q)):m(f.$parent,e(c,a,q)))}function j(a){return o&&o(f)===!1?void i(p,f[h.ngModel]):void(f[h.ngModel]=c(a,p,q))}var k=h.checklistModel;h.$set("checklistModel",null),b(g)(f),h.$set("checklistModel",k);var l=a(k),m=l.assign,n=a(h.checklistChange),o=a(h.checklistBeforeChange),p=h.checklistValue?a(h.checklistValue)(f.$parent):h.value,q=angular.equals;if(h.hasOwnProperty("checklistComparator"))if("."==h.checklistComparator[0]){var r=h.checklistComparator.substring(1);q=function(a,b){return a[r]===b[r]}}else q=a(h.checklistComparator)(f.$parent);f.$watch(h.ngModel,function(a,b){if(a!==b){if(o&&o(f)===!1)return void(f[h.ngModel]=c(l(f.$parent),p,q));i(p,a),n&&n(f)}}),angular.isFunction(f.$parent.$watchCollection)?f.$parent.$watchCollection(k,j):f.$parent.$watch(k,j,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(a,b){if(("INPUT"!==a[0].tagName||"checkbox"!==b.type)&&"MD-CHECKBOX"!==a[0].tagName&&!b.btnCheckbox)throw'checklist-model should be applied to `input[type="checkbox"]` or `md-checkbox`.';if(!b.checklistValue&&!b.value)throw"You should provide `value` or `checklist-value`.";return b.ngModel||b.$set("ngModel","checked"),f}}}]),app.controller("AdminController",["$scope","Image","Product","Order","YouImage","AvailabilityType","AlertService","HomeSetting",function(a,b,c,d,e,f,g,h){function i(){c.forPeriod(a.order_start_date,a.order_end_date).success(function(a){k(a.data)}).error(function(){console.log("Sorry, there was an error retrieving the products")})}function j(){c.all().success(function(a){k(a.data)}).error(function(){console.log("Sorry, there was an error retrieving the products")})}function k(b){angular.forEach(b,function(a,c){var d=0;angular.forEach(a.orderitems,function(a){d+=a.quantity}),b[c].sold=d}),a.products=b}function l(){f.all().success(function(b){a.availabilityTypes=b.data}).error(function(){console.log("Something went wrong on our end")})}function m(){c.getTypes().success(function(b){a.types=b.data}).error(function(){console.log("Sorry, types could not be retrieved")})}function n(){a.newProduct.addonSelection=[];for(var b=0;b<a.products.length;b++){var c={};if(c.id=a.products[b].id,c.name=a.products[b].name,a.editingNew)c.isAddon=!1;else if(a.newProduct.addons.length)for(var d=0;d<a.newProduct.addons.length;d++){if(a.newProduct.addons[d].childId==a.products[b].id){c.isAddon=!0,c.include_in_package=a.newProduct.addons[d].include_in_package?!0:!1,c.price_zero=a.newProduct.addons[d].price_zero?!0:!1;break}c.isAddon=!1}else c.isAddon=!1;a.newProduct.addonSelection.push(c)}}function o(){e.all().success(function(b){a.youImages=b.data,Squares.init()}).error(function(){console.log("There was an error getting the You images")})}function p(){h.all().success(function(b){a.homeSetting=b.data?b.data:{},Squares.init()}).error(function(){console.log("There was an error getting the home settings")})}a.init=function(){a.show("orders"),a.getProducts(),m(),o(),p(),l()},a.orders=[],a.types=[],a.availabilityTypes=[],a.products=[],a.newProduct={},a.youImages=[],a.newYouImage={},a.homeSetting={},a.editState=!1,a.editingNew=!0,a.submitButton="Submit",a.show=function(b){switch(a.showOrders=!1,a.showProducts=!1,a.showYou=!1,a.showVideos=!1,a.showHomeSetting=!1,a.reset(),b){case"orders":a.showOrders=!0;break;case"products":a.showProducts=!0;break;case"you":a.showYou=!0;break;case"videos":a.showVideos=!0;break;case"home-setting":a.showHomeSetting=!0}},a.getProducts=function(){a.order_start_date&&a.order_end_date?i():j()},a.saveProduct=function(){var b=new Nanobar({bg:"#fff"});b.go(60),c.store(a.newProduct).success(function(){a.getProducts(),a.reset(),b.go(100),g.broadcast("Product saved!","success")}).error(function(){b.go(100),g.broadcast("There was a problem","error")})},a.createProduct=function(){a.newProduct={},a.editState=!0,a.editingNew=!0,n()},a.editProduct=function(b){a.newProduct=b,a.editState=!0,a.editingNew=!1,n()},a.updateProduct=function(){var b=new Nanobar({bg:"#fff"}),d=a.newProduct;b.go(65),c.update(d.id,d).success(function(){a.getProducts(),a.reset(),b.go(100),g.broadcast("Product updated!","success")}).error(function(){b.go(100),g.broadcast("There was a problem.","error")})},a.upload=function(c,d){var e=new Nanobar({bg:"#fff"}),f=c[0];if(!f)return!1;var g={url:"/product/image",file:f};e.go(40),b.upload(g).progress(function(a){parseInt(100*a.loaded/a.total)}).success(function(b){a.newProduct[d]=b.data,e.go(100)}).error(function(){e.go(100)})},a.reset=function(){a.newProduct={},a.newYouImage={},a.editState=!1,a.editingNew=!0},a.youImages=[],a.newYouImage={},a.uploadYouImage=function(c){var d=c[0];if(!d)return!1;var e={url:"/you-image/upload",file:d};a.editState=!0,b.upload(e).success(function(b){a.newYouImage.image=b.data}).error(function(a){console.log(a.message)})},a.saveYouImage=function(){var b=new Nanobar({bg:"#fff"});b.go(40),e.save(a.newYouImage).success(function(){o(),a.reset(),b.go(100)}).error(function(a){console.log(a.message)})},a.clearNewYouImage=function(){a.newYouImage=!1},a.uploadHomeImage=function(c,d){var e=c[0];if(!e)return!1;var f={url:"/home-image/upload",file:e};a.editState=!0,b.upload(f).success(function(b){console.log(d),a.homeSetting[d]=b.data}).error(function(){g.broadcast("Sorry, there was an error, please try again","error")})},a.saveHomeSetting=function(){var b=new Nanobar({bg:"#fff"});b.go(40),h.save(a.homeSetting).success(function(){p(),g.broadcast("Photo was successfully updated.","success"),b.go(100)}).error(function(a){console.log(a.message)})},a.resetDateFilter=function(){a.order_start_date="",a.order_end_date="",a.getProducts()},a.init()}]),app.controller("AdminordersController",["$scope","Order","$http",function(a,b,c){var d=this;d.orders=[],d.pageno=1,d.itemsPerPage=15,d.getData=function(b){d.orders=[];var e="/orderall/"+d.itemsPerPage+"/"+b;try{a.order_start_date&&(e=e+"/"+a.order_start_date),a.order_end_date&&(e=e+"/"+a.order_end_date)}catch(f){}c.get(e).success(function(b){a.orders=b.data,d.orders=b.data,d.total_count=b.total_count})},d.getData(d.pageno),d.searchOrder=function(){a.order_start_date?d.getData(1,a.order_start_date,a.order_end_date):alert("select start date")},d.resetDateFilter=function(){a.order_start_date="",a.order_end_date="",d.getData(1,a.order_start_date,a.order_end_date)}}]),app.controller("CartBlinderController",["$scope","CartService",function(a,b){a.show=!1,a.hide=function(){b.hide()},a.$on("show",function(){a.show=!0}),a.$on("hide",function(){a.show=!1})}]),app.controller("CartController",["$scope","CartService","StripeService","Order","AlertService",function(a,b,c,d,e){function f(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)}function g(){var b={};return b.address_zip=a.card.isBillingSame?a.form.zip:a.form.billing_zip,b.number=a.card.number,b.exp_month=a.card.expiryMonth,b.exp_year=a.card.expiryYear,b.cvc=a.card.securityCode,b.name=a.form.firstName+" "+a.form.lastName,b}a.items=[],a.show=!1,a.form={},a.form.useBillingForShipping=!0,a.status="",a.stages=["cart","checkout","payment","confirmation"],a.currentStage=a.stages[0],a.eligibleForDiscount=!1,a.discountText="",a.discountAmount=0,a.enabled=!0,a.blackFriday=!1,a.toStage=function(b){return Inputs.blur(),a.validate(b)===!1?!1:void(a.currentStage=a.stages[b])},a.getItems=function(){var c=b.getItems();a.items=c},a.removeItem=function(a){b.removeItem(a)},a.increaseItemQuantity=function(a){b.increaseItemQuantity(a)},a.decreaseItemQuantity=function(a){b.decreaseItemQuantity(a)},a.increaseAddonQuantity=function(a,c){b.increaseAddonQuantity(a,c)},a.decreaseAddonQuantity=function(a,c){b.decreaseAddonQuantity(a,c)},a.shipping=function(){var b=0,c=[],d=[],e=[];if(a.subtotal()>=3e4)return 0;for(var f=0;f<a.items.length;f++){var g=a.items[f];"pole"===g.type.slug?c.push(g):"head"===g.type.slug?d.push(g):e.push(g)}if(a.blackFriday&&c.length>0)return 0;if(c.length>0){var h=c[0].type.shippingPrice;b=c.length>1?h*c.length:h}else if(d.length>0){var i=d[0].type.shippingPrice;b=d.length>1?i*Math.ceil(d.length/2):i}else e.length>0&&(b=e[0].type.shippingPrice);return b},a.subtotal=function(){var b=0;return angular.forEach(a.items,function(c,d){"package"!=a.items[d].type.slug&&(b+=a.items[d].price*a.items[d].quantity),b+=a.items[d].addons[i].price*a.items[d].addons[i].quantity}),b-a.discounts(b)},a.discounts=function(b){var c=0,b=b||!1,d=0,e=0;return b&&a.blackFriday?(a.discountText="Black Friday Discount - 20% off",c=100*Math.ceil(.2*b/100),a.eligibleForDiscount=!0,a.discountAmount=c,c):a.blackFriday?0:(angular.forEach(a.items,function(b,c){"glass"===a.items[c].type.slug&&(d+=parseInt(a.items[c].quantity),e=a.items[c].price);for(var f=0;f<a.items[c].addons.length;f++)"glass"===a.items[c].addons[f].type.slug&&(d+=parseInt(a.items[c].addons[f].quantity))}),d>=4?(c=4*e-4e3,a.eligibleForDiscount=!0,a.discountText="4 Glasses for $40"):(a.eligibleForDiscount=!1,a.discountText=""),a.discountAmount=c,c)},a.total=function(){var b=a.subtotal(),c=a.shipping();return b+c},a.submit=function(){var b=g();return a.enabled===!1?!1:(a.enabled=!1,e.broadcast("Processing...","info"),void c.createToken(b).then(function(b){var c={items:a.items,form:a.form,token:b};d.store(c).success(function(){e.broadcast("Success! Redirecting...","success"),a.show=!1,a.emptyCart(),a.enabled=!0}).error(function(b){a.enabled=!0,"error"in b.message.jsonBody?e.broadcast(b.message.jsonBody.error.message,"error"):e.broadcast("Sorry, something went wrong on our end. We are fixing it soon!","error")})}))},a.hide=function(){b.hide()},a.emptyCart=function(){b.empty(),a.getItems()},a.validate=function(b){if(a.status="",1==b)return!0;if(2==b)return a.form.firstName?a.form.lastName?a.form.email?f(a.form.email)?a.form.phone?a.form.address?a.form.city?a.form.state?a.form.zip?a.form.country?!0:(a.status="Please enter a country",e.broadcast("Please enter a country","error"),!1):(a.status="Please enter a zip",e.broadcast("Please enter a zip","error"),!1):(a.status="Please enter a state",e.broadcast("Please enter a state","error"),!1):(a.status="Please enter a city",e.broadcast("Please enter a city","error"),!1):(a.status="Please enter a street address.",e.broadcast("Please enter a street address","error"),!1):(a.status="Please enter phone number.",e.broadcast("Please enter a phone number","error"),!1):(a.status="Please enter a valid email address.",e.broadcast("Please enter a valid email address","error"),!1):(a.status="Please enter an email address.",e.broadcast("Please enter an email address","error"),!1):(a.status="Please enter a last name.",e.broadcast("Please enter a last name","error"),!1):(a.status="Please enter a first name.",e.broadcast("Please enter a first name","error"),!1);if(3==b){if(!a.card.isBillingSame){if(!a.form.billing_address)return a.status="Please enter Billing Address or check Billing Address same as Shipping Address",e.broadcast("Please enter Billing Address or check Billing Address same as Shipping Address","error"),!1;if(!a.form.billing_zip)return a.status="Please enter billing zip or check Billing Address same as Shipping Address",e.broadcast("Please enter billing zip or check Billing Address same as Shipping Address","error"),!1}var d=g(),h=c.validate(d);if(h.response===!1)return a.status=h.message,e.broadcast(a.status,"error"),!1;if(h.response)return a.status="",!0}},a.$on("update",function(){a.getItems()}),a.$on("show",function(){a.show=!0}),a.$on("hide",function(){a.show=!1}),a.getItems()}]),app.controller("CartCountController",["$scope","CartService",function(a,b){function c(){a.count=b.count()}a.$on("update",function(){c()}),a.showCart=function(){b.show()},c()}]),app.controller("HearGoodStuffController",["$scope","HearGoodStuff",function(a,b){a.email_address="",a.addEmailToMailingList=function(){b.store({email:a.email_address}).success(function(){a.email_address=""}).error(function(){})}}]),app.controller("MediaController",["$scope",function(a){a.productPage=!0,a.brandPage=!1,a.toProductPage=function(){a.productPage=!0,a.brandPage=!1,setTimeout(function(){Grid.init()},200)},a.toBrandPage=function(){a.productPage=!1,a.brandPage=!0}}]),app.controller("MobileNavigationController",["$scope","Product","NavigationService",function(a,b,c){a.open=!1,a.openAction=function(){c.open()},a.closeAction=function(){c.close()},a.$on("open",function(){a.open=!0
}),a.$on("close",function(){a.open=!1})}]),app.controller("ProductController",["$scope","Product","CartService","Size","AlertService","$timeout",function(a,b,c,d,e,f){function g(){for(var b=[],c=0;c<a.product.sizes.length;c++)a.product.sizes[c].checked&&b.push(a.product.sizes[c]);return b}function h(){for(var b=0;b<a.product.addons.length;b++){var c=a.product.addons[b];if(c.price_zero&&(c.product.price=0),c.product.sizeable){if("bands"===c.product.slug)var e=a.product.slug+"-band";else if("hardcore-bands"===c.product.slug)var e=a.product.slug+"-hardcore";"undefined"!=typeof e&&d.getBySlug(e).success(function(a){c.product.price=a.data.price,c.product.sizeId=a.data.id}).error(function(){a.product.addons.splice(b,1)});break}}}function i(){if("0"!==a.product.sizeable&&a.product.sizeable)for(var b=0;b<a.product.sizes.length;b++)a.product.sizes[b].checked=!1;else for(var b=0;b<a.product.addons.length;b++)a.product.addons[b].include_in_package||(a.product.addons[b].checked=!1)}a.fullSize=!0,a.loaded=!1,a.productAdded=!1,a.productAddedText="Add to Cart",a.product={},a.attached="pole"===layoutType||"extra"===layoutType?!0:!1,a.init=function(){a.getProduct()},a.getProduct=function(){b.get(productId).success(function(b){a.product=b.data,h(),a.loaded=!0}).error(function(){e.broadcast("Sorry, there is an error. Your page may have not rendered correctly.","error")})},a.addToCart=function(){if("0"!==a.product.sizeable&&a.product.sizeable){var b=g();if(console.log("Product is sizeable"),!b.length)return!1;console.log("there are sizes");for(var d=0;d<b.length;d++){var e=angular.copy(a.product);e.name=b[d].name,e.price=b[d].price,e.shortName=b[d].shortName,e.sizeId=b[d].id,c.addItem(e)}}else c.addItem(a.product);a.productAddedTextChange(),i()},a.openCart=function(){c.show()},a.scrollAcross=function(){"g-string"===a.product.slug||"black g-string"===a.product.slug?PoleScroll.center():PoleScroll.scrollAcross()},a.poleScrollInit=function(){PoleScroll.init()},a.goFullSize=function(){setTimeout(function(){PoleScroll.init()},20)},a.productAddedTextChange=function(){a.productAddedText="Item Added!",f(function(){a.productAddedText="Add to Cart"},4e3)},a.$on("itemAdded",function(){a.productAdded=!0}),a.init()}]),app.controller("QuoteFormController",["$scope","Product","$http","AlertService",function(a,b,c,d){function e(){b.getByType().success(function(b){a.poles=b.data.poles}).error(function(){a.hidePoleChooser=!0})}a.form={},a.poles=[],a.submitAttempted=!1,a.success=!1,e(),a.submit=function(b){a.submitAttempted=!0;var e=new Nanobar({bg:"#fff"});b?(e.go(60),c.post("/quote",a.form).success(function(){a.success=!0,d.broadcast("Success! We will get back to you as quick as we can!","success"),e.go(100)}).error(function(){d.broadcast("Sorry, something went wrong. We will fix it as soon as possible","error"),e.go(100)})):d.broadcast("Please Fill in required fields","error")}}]),app.controller("ShippingRequestPaymentController",["$scope","AlertService","StripeService","ShippingRequest",function(a,b,c,d){function e(){var b={};return b.number=a.card.number,b.exp_month=a.card.expiryMonth,b.exp_year=a.card.expiryYear,b.cvc=a.card.securityCode,b.name=void 0!==typeof shippingRequestId?shippingRequestFullName:null,b}a.card={},a.success=!1,a.shippingRequestId=void 0!==typeof shippingRequestId?shippingRequestId:null,a.pay=function(){var f=e();b.broadcast("Processing...","info"),c.createToken(f).then(function(c){var e={shippingRequestId:a.shippingRequestId,token:c};d.pay(e).success(function(){b.broadcast("Success!","success"),a.success=!0}).error(function(a){"error"in a.message.jsonBody?b.broadcast(a.message.jsonBody.error.message,"error"):b.broadcast("Sorry, something went wrong on our end. We are fixing it soon!","error")})})}}]),app.controller("StoreController",["$scope","Product",function(a,b){a.heads=[],a.poles=[],a.shrinker=[],a.extras=[],a.apparel=[],a.init=function(){a.getStore()},a.getStore=function(){b.getByType().success(function(b){a.heads=b.data.heads,a.poles=b.data.poles,a.shrinker=b.data.shrinker,a.extras1=b.data.extras.slice(0,3),a.extras2=b.data.extras.slice(3,7),a.extras3=b.data.extras.slice(7,11),a.apparel=b.data.apparel,a.glasses=b.data.glasses,a.packages=b.data.packages}).error(function(){console.log("Something went wrong getting the store data")})},a.init()}]),app.controller("VideoController",["$scope","$sce",function(a,b){a.videos=[{link:"//www.youtube.com/embed/qRm0BheSR_Q",title:"Spearfishing with GATKU Polespears",shortTitle:"At the Bahamas",description:"Video blog by Ted from Ted's Holdover about a hunting trip to the Bahama's using a GATKU Polespear."},{link:"//www.youtube.com/embed/aspLQ0hPoo0",title:"Break Away Setup",shortTitle:"Break Away Setup",description:"How to rig your own SLIP-TIP with break away system -"},{link:"//www.youtube.com/embed/xxbnO8oa72k",title:"Carp Killers",shortTitle:"Carp Killers",description:"Michael Dong and Dustin McIntyre tour Lake Mead to exterminate the invasive carp. The local ecosystem thanks them. All fish were killed with GAT-KU hybrid polespears."},{link:"//www.youtube.com/embed/CvRSkoTYq3s",title:"GATKU Gen-2 Polespears go to Baja",shortTitle:"GATKU Gone Baja",description:"Ryan Gattoni takes GATKU hybrid polespears south of the border in this short video."},{link:"//www.youtube.com/embed/8-eQhtrsdu8",title:"Nautilus Review",shortTitle:"Nautilus Review",description:"Video review of the GATKU Gen 2 Hybrid Polespear by Nautilus Spearfishing."},{link:"//www.youtube.com/embed/F3FEIE7rFsw",title:"Spearfishing in the Exumas",shortTitle:"In the Exumas",description:"Hunting Tiger Groupers and a close encounter with a shark. Video by Eric Poeltl. GATKU Polespear + Slip-Tip head used."}],a.activeVideo={},a.init=function(){a.setActiveVideo(0),ResponsiveVideo.init()},a.setActiveVideo=function(c){var d=String(a.videos[c].link);a.activeVideo=a.videos[c],a.activeVideo.link=b.trustAsResourceUrl(d)},a.init()}]);